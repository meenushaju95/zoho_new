{% extends 'base.html' %}
{% block content %}
{% load static %}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />

<!-- Include jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- Include Select2 JS -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js" ></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js" defer></script>




<style>

.button-container {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap; /* Allow buttons to wrap to the next line */
  }

  .button-container button {
    margin: 5px; /* Add some space between buttons */
  }

  @media screen and (max-width: 600px) {
    .button-container {
      flex-direction: column; /* Stack buttons vertically on small screens */
    }
  }

    .select2-container--default .select2-search--dropdown{
        background-color: black !important;
        
    }
    .select2-container--default .select2-search--dropdown .select2-search__field {
        
        color: Black !important;
    }

    .select2-container--default .select2-results__option {
        color: white;
        background-color: black;
    }

    .select2-container--default .select2-selection--single{ 
        background-color: black !important;
        padding:4px;
        height: 45px!important;
        font-size: 1.2em;  
    }

    .select2-container--default .select2-selection--single .select2-selection__rendered {
        color: white !important;
    }
    .select2-results__option:first-child {
    background-color: black !important;
    color: white;
}


    
  label{
        color: white;
    }
    .section-3
    {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1.5rem;
        margin-top: 1rem;
    }
    .section-3 .section-toggle
    {
        margin-bottom: 0.50rem;
    }
     .section-toggle a
    {

        color: rgb(230, 171, 45);
        font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
        font-size:1.275rem;
    }
    .add_another
    {
       
        color: rgb(230, 171, 45);
    }
    #tbl thead th{
        font-size: 0.785rem;
    }
    @media (max-width:700px)
    {
    .section-3
    {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr 1fr ;  

    }
    .section-3 .section-toggle a
    {

        color: rgb(230, 171, 45);
        font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
        font-size:0.875rem;
    }
    }
   
       
  .container {
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
  }
  
  
  

  /* Input field styles */
  input[type="text"],
  input[type="email"],
  input[type="date"],
  input[type="number"],
  select
   {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    border: 1px solid white;
    border-radius: 4px;
    box-sizing: border-box;
    color: #fff;
    font-size: 16px;
    background-color: #000;
  }
  select{
    color: white;
  }
  button{
    width: 100%;
    padding: 10px;
   
    border: 1px solid white;
    border-radius: 4px;
    box-sizing: border-box;
    color: #fff;
    font-size: 16px;
    background-color: #000;
  }
  textarea{
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    border: 1px solid white;
    border-radius: 4px;
    box-sizing: border-box;
    color: #fff;
    font-size: 16px;
    background-color: #000;
  }
  input[type="date"]::-webkit-calendar-picker-indicator {
      filter: invert(1); 
    }


  /* Additional styling for select dropdown arrow */
  
   
  
table {
    border-collapse: collapse;
    width: 100%;
    margin-bottom: 20px;
  }

  th, td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
  }

  th {
   color: white;
  }
  
#itemTable th:nth-child(1),
  #itemTable td:nth-child(1) {
    width: 30px; 
  }

  #itemTable th:nth-child(2),
  #itemTable td:nth-child(2) {
    width: 200px; 
  }


  /* Button styles */
  
  .button-container {
    display: flex;
    justify-content: center;
    margin-top: 20px;
}

.draft-button,
.sent-button,
.cancel-button {
    border: 1px solid orange;
    border-radius: 5px;
    width: 100px;
    height: 40px;
    background-color: transparent;
    color: orange;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.draft-button:hover,
.sent-button:hover,
.cancel-button:hover {
    background-color: orange;
    color: white;
}

.table-container {
        overflow-x: auto;
    }
    
input {
    color: white;
}

   

</style>

<body>
  
  <div class="body-wrapper">
    <div class="container-fluid">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="{% url 'company_dashboard' %}" class="text-warning-emphasis">Dashboard</a></li>
          
          <li class="breadcrumb-item"><a href="{% url 'challan_list' %}" class="text-warning-emphasis">All Delivery Challan</a></li>
          <li class="breadcrumb-item">New Delivery Challn</li>
          
          
        </ol>
      </nav>
      <div style="overflow-x:auto;"> 


        <div class="container-fluid bg-black" style="padding: 20px;">









            

         
          <h3 style="color: white;">New Delivery Challan</h3>
          {% if messages %}
          {% for message in messages %}
              <div class="alert alert-success" role="alert" style="color: orange;background-color: black;border: none;">
                  {{ message }}
              </div>
          {% endfor %}
      {% endif %}
          <form method="post" action="{% url 'add_delivery_challan' %}" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="container">
               
              <!-- Left Column -->
              <div class="col-md-6">
                <div class="m-3" style="display: flex; align-items: center;">
                <label for="customerName" style="width: 30%;">Customer Name : </label>&nbsp;&nbsp;
                
                  
                 
        
     <select id="customerName" name="customerName" data-live-search="true" class="custom-select" style="width: 60%;" required>
    <option></option>
    {% for customer in customer %}
        <option value="{{ customer.id }}">{{ customer.first_name }} {{ customer.last_name }}</option>
    {% endfor %}
</select>
<button type="button" id="customer" data-toggle="modal" data-target="#newCustomer" style="border: 1px solid orange;border-radius: 5px;width: 50px;height: 50px;">+</button><br><br>
                </div>  
                <script>
 $('#customerName').select2({
        placeholder: 'Select customer',
    }).on('select2:select', function (e) {
    var customerId = e.params.data.id;
    console.log('Selected Customer ID:', customerId);
    if (customerId) {
        fetchCustomerData(customerId);
    } else {
        clearCustomerInfo();
    }
});

</script>
               
                
                  
<div class="m-3" style="display: flex; align-items: center;">
                  <label for="customerEmail" style="width: 30%;">Customer Email ID :</label>&nbsp
                  <input type="email" id="customerEmail" name="customerEmail" style="width: 60%;" required></div>
                  
                  <div class="m-3" style="display: flex; align-items: center;">
                  <label for="billingAddress" style="width: 30%">Billing Address :</label>
                  <textarea id="billingAddress" name="billingAddress" style="width: 60%;" ></textarea><br></div>
                 
                  <div class="m-3" style="display: flex; align-items: center;">
                  <label for="gstTreatment" style="width: 30%;">GST Treatment:</label>
                  <input type="text" id="gstTreatment" name="gstTreatment" readonly style="width:60%" ></div>
                 
                  <div class="m-3" style="display: flex; align-items: center;">
                  <label id="gstNumberLabel"  for="gstNumber" style="width: 30%;" >GST Number:</label>
                  <input type="text" id="gstNumber" name="gstNumber" readonly style="width: 60%;"></div>
               
              </div>
            
              <!-- Right Column -->
              <div class="col-md-6">
                <div class="m-3" style="display: flex; align-items: center;">
                  &nbsp;<label for="placeOfSupply" style="width: 30%;">Place of Supply:</label>
                  <select id="placeOfSupply" name="placeOfSupply" style="width: 60%;" required>
                    <option value="value" selected></option>
                    <option value="[AN]-Andaman And Nicobar Islands">[AN]-Andaman And Nicobar Islands</option> <option value="[AD]-Andhra Pradesh">[AD]-Andhra Pradesh</option>
                    <option value="[AR]-Arunachal Pradesh">[AR]-Arunachal Pradesh	</option> <option value="volvo">[AS]-Assam</option>
                    <option value="[BR]-Bihar">[BR]-Bihar</option> <option value="volvo">[CH]-	Chandhigarh</option><option value="[CG]-Chattisgarh">[CG]-Chattisgarh</option>
                    <option value="[DD]-Daman Diu">[DD]-Daman Diu</option><option value="volvo">[DL]-	Delhi</option><option value="[GA]-Goa">[GA]-Goa</option> <option value="[GJ]-Gujarat">[GJ]-Gujarat</option>
                    <option value="[HR]-Haryana">[HR]-Haryana</option> <option value="[HP]-Himachal Pradesh">[HP]-Himachal Pradesh</option>
                    <option value="[JK]-Jammu And Kashmir">[JK]-Jammu And Kashmir</option><option value="[JH]-Jharkand">[JH]-Jharkand</option>
                    <option value="[KA]-Karnataka">[KA]-Karnataka</option><option value="[KL]-Kerala">[KL]-Kerala</option>
                    <option value="[LA]-Ladakh">[LA]-Ladakh</option><option value="[LD]-Lakshadweep">[LD]-Lakshadweep</option>
                    <option value="[MP]-Madhyapradesh">[MP]-Madhyapradesh</option><option value="[MH]-Maharashtra">[MH]-Maharashtra</option>
                    <option value="[MN]-Manipur">[MN]-Manipur</option>  <option value="[ML]-Meghalaya">[ML]-Meghalaya</option>
                  <option value="[MZ]-Mizoram">[MZ]-Mizoram</option> <option value="[NL]-Nagaland">[NL]-Nagaland</option> <option value="[NL]-Nagaland">[NL]-Nagaland</option>
                   <option value="[OD]-Odisha">[OD]-Odisha</option><option value="[PY]-Puducherry">[PY]-Puducherry</option>
                    <option value="[PB]-Punjab">[PB]-Punjab.</option><option value="[RL]-Rajasthan">[RL]-Rajasthan</option>
                    <option value="[SK]-Sikkim">[SK]-Sikkim</option><option value="[TN]-Tamilnadu">[TN]-Tamilnadu</option>
                    <option value="[TS]-Telenghana">[TS]-Telenghana</option><option value="[TR]-Tripura">[TR]-Tripura</option><option value="[UP]-Uttar Pradesh">[UP]-Uttar Pradesh</option>
                    <option value="[UK]-Utharakhand">[UK]-Utharakhand</option><option value="[WB]-West Bengal">[WB]-West Bengal</option>
                    <option value="[OT]-Other Territory">[OT]-Other Territory</option>
                  </select></div>
                  <label id="challanError" style="color: red; display: block;"></label>
                  <div class="m-3" style="display: flex; align-items: center;">
                  <label for="deliveryChallan" style="width: 30%;">Delivery Challan No:</label>
                  <input type="text" id="deliveryChallan" placeholder="{{ challan_number }}" style="width: 60%;color: white;" name="deliveryChallan" oninput="updateChallanPattern()" required>
                  
                </div>
               

                  <div class="m-3" style="display: flex; align-items: center;">
                  <label for="referenceNumber" style="width: 30%;">Reference Number:</label>
                  <input type="text" id="referenceNumber" name="referenceNumber" value="{{reference_number}}" style="width: 60%;" readonly></div>
            
                  <div class="m-3" style="display: flex; align-items: center;">
                  <label for="deliveryChallanDate" style="width: 30%;">Delivery Challan Date:</label>
                  <input type="date" id="deliveryChallanDate" name="deliveryChallanDate" style="width: 60%;" required><br></div>
            
                  <div class="m-3" style="display: flex; align-items: center;">
                  <label for="challanType" style="width: 30%;">Challan Type:</label>
                  <select id="challanType" name="challanType" style="width: 60%;" required>
                    <option value="Supply Of Liquid Gas">Supply Of Liquid Gas</option>
                    <option value="Job Work">Job Work</option>
                    <option value="Supply Of Approval">Supply Of Approval</option>
                    <option value="Others">Others</option>
                  </select></div>
                
              </div>
            </div>



           <div class="container">
            <div class="table-container">
    <table class="responsive-table" id="itemTable" >
        <thead>
            <tr>
                <th style="width: 50px;">Index</th>
                <th style="width: 150px;">Item</th>
                <th style="width: 150px;">HSN</th>
                <th style="width: 150px;">Quantity</th>
                <th style="width: 150px;">Rate</th>
                <th style="width: 150px;">Discount</th>
                <th style="width: 150px;">Tax</th>
                <th style="width: 150px;">Amount</th>
                <th style="width: 50px;">Action</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>
                    <div style="display: flex; align-items: center;">
                        <select name="item[]" id="item" class="item-select"  onchange="fetchItemData(this.value)" style="flex: 1; width: 250%;color: white;" required>
                          <option value="value" selected></option>
                            {% for i in item %}
                            <option value="{{i.id}}" style="color: white;" >{{i.item_name}}</option>
                            {% endfor %}
                        </select>
                        
                        
                        <button type="button" id="newwItem" data-target="#newItem" data-toggle="modal" style="border: 1px solid orange; border-radius: 5px; width: 50px; height: 40px;">+</button>
                       
                    
                    
                </td>
                <td><input type="text" id="hsn" name="hsn[]" style="width: 100%;background-color: black;border: 1px solid white;border-radius: 8px;" readonly></td>
                <td><input type="number" id="quantity" class="quantity" name="quantity[]" value="0" style="width: 100%;background-color: black;border: 1px solid white;border-radius: 8px;" ><label id="availableStock" class="availableStock" style="color: orange;"></label></td>
                <td><input type="number" id="rate" name="rate[]" style="width: 100%;background-color: black;border: 1px solid white;border-radius: 8px;" readonly></td>
                <td><input type="number" id="discount" name="discount[]" value="0" style="width: 100%;background-color: black;border: 1px solid white;border-radius: 8px;"></td>
                <td>
                    <select id="tax" name="tax[]" class="item-tax" style="width: 100%;">
                       
                        <option value="0">0% GST</option>
                        <option value="3">3% GST</option>
                        <option value="5">5% GST</option>
                        <option value="12">12% GST</option>
                        <option value="18">18% GST</option>
                        <option value="28">28% GST</option>
                    </select>
                </td>
                <td><input type="text" id="amount"   class="item-amount" name="amount[]" style="width: 100%;"   oninput="updateSubtotal()"></td>
               
                <td>
                   <button type="button" style="  width: 50px; height: 40px;border: none;" onclick="removeRow(this)"><span style="color: orange;"><i class="fa fa-trash" aria-hidden="true"></i></span></button>
              </td>
            </tr>
        </tbody>
    </table>
    <button type="button" onclick="addRow()" style="border: 1px solid orange; border-radius: 5px; width: 50px; height: 40px;">+</button>
</div>

      




<div class="container mt-5">
  <!-- Left Column -->
  <div class="col-md-6">

    <div class="m-3" style="display: flex; align-items: center;">
      <label for="note" style="width: 30%;">Add Note:</label><br>
      <textarea id="note" name="note" style="width: 60%;height: 200px;" ></textarea><br></div>
      


      <div class="m-3" style="display: flex; align-items: center;">
        <label for="note" style="width: 30%;">Terms and Condition:</label><br>
        <textarea id="termcondition" name="termcondition" style="width: 60%;height: 200px;" ></textarea><br></div>


        <div class="m-3" style="width: 60%;"> 
            <input class="form-control" type="file" name="file" style="width: 100%;"> 
        </div>


      <div class="m-3" style="display: flex; align-items: center;">
      <input type="checkbox" id="termsAndConditions" name="termsAndConditions"  style="width: 10%;">
<label for="termsAndConditions" style="width: 60%">Agree to Terms  and Conditions</label>
  </div>
  </div>

  <!-- Right Column -->
  <div class="col-md-6 ">
      
    
        <!-- Container for Sub Total to Tax Amount fields -->
        <div class="container mb-3" style="border: 1px solid ;align-items: center;justify-content: center;border-radius: 10px;">
            <div class="m-3" style="display: flex; align-items: center;">
                <label for="subtotal" style="width: 120px;">Sub Total:</label>
                <input type="text" id="subtotal" name="subtotal" readonly onchange="calculateTaxes(data)" style="width:100%;">
            </div>
        
            <div class="m-3" style="display: flex; align-items: center;">
                <label for="igst" style="width: 120px;">IGST:</label>
                <input type="text" id="igst" name="igst" readonly style="width:100%">
            </div>
        
            <div class="m-3" style="display: flex; align-items: center;">
                <label for="cgst" style="width: 120px;">CGST:</label>
                <input type="text" id="cgst" name="cgst" readonly style="width: 100%;">
            </div>
        
            <div class="m-3" style="display: flex; align-items: center;">
                <label for="sgst" style="width: 120px;">SGST:</label>
                <input type="text" id="sgst" name="sgst" readonly style="width:100%;">
            </div>
        
            <div class="m-3" style="display: flex; align-items: center;">
                <label for="taxAmount" style="width: 140px;">Tax Amount:</label>
                <input type="text" id="taxAmount" name="taxAmount" readonly style="width: 100%">
            </div>


            <div class="m-3" style="display: flex; align-items: center;">
                <label for="taxAmount" style="width: 140px;">shipping charge:</label>
                <input type="text" id="shippingCharge" name="shippingCharge"  style="width: 100%" >
            </div>



            <div class="m-3" style="display: flex; align-items: center;">
                <label for="taxAmount" style="width: 140px;">Adjustment:</label>
                <input type="text" id="adjustment" name="adjustment"  style="width: 100%">
            </div>

            <div class="m-3" style="display: flex; align-items: center;">
                <label for="taxAmount" style="width: 140px;">Total:</label>
                <input type="text" id="total" name="total" readonly style="width: 100%">
            </div>

        </div>
        
        <!-- Container for Advance to Balance fields -->
        <div class="container" style="border: 1px solid ;justify-content: center;border-radius: 10px;">
            <div class="m-3" style="display: flex; align-items: center;">
                <label for="advance" style="width: 120px;">Advance:</label>
                <input type="text" id="advance" name="advance" style="width: 100%;">
            </div>
        
            <div class="m-3" style="display: flex; align-items: center;">
                <label for="balance" style="width: 120px;">Balance:</label>
                <input type="text" id="balance" name="balance" style="width: 100%;">
            </div>
        
        </div></div>
  
  




<div class="button-container">
  <button class="draft-button" name="draft">Draft</button>
  <button class="sent-button" name="save">Save</button>
</form>
  <button class="cancel-button" value="">Cancel</button>
        </div>
        <script>
            $(document).ready(function() {
               
                $(".cancel-button").click(function() {
                    
                    window.location.href = "{% url 'challan_list' %}";
                });
            });
        </script>








<!-------------ITEM MODAL---------------------------------------->





<!-- New Item Modal -->
<div class="modal fade" id="newItem">
    <div class="modal-dialog modal-xl">
      <div class="modal-content" style="background: rgb(32, 35, 37);border-radius: 20px;">
        <div class="modal-header px-3" style="background: rgb(32, 35, 37);">
            <h3 class="text-uppercase" style="color: white;">Add New Item</h3>
            
        </div>
        <div class="modal-body" style="background: rgb(32, 35, 37);">
          <div class="card px-2 py-4" style="background-color: #000;">
            <form id="newItemForm">
              {% csrf_token %}
              <fieldset class="form-group" >
                    <div class="row mt-3">
                    <hr>
                        <div class="col-12 col-md-10">
                        <label class="col-12 col-md-2 col-form-label pt-3" style="color: aliceblue;">Type  &nbsp;&nbsp;<i class="fa fa-question-circle"></i></label>
                            <div class="form-check form-check-inline">
                                <input required class="form-check-input" type="radio" name="itemType" id="gridRadios1" value="Goods">
                                <label class="form-check-label text-white" for="gridRadios1">Goods</label>
                            </div> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
                            <div class="form-check form-check-inline ml-md-3">
                                <input required class="form-check-input" type="radio" name="itemType" id="gridRadios2" value="Services">
                                <label class="form-check-label text-white" for="gridRadios2">Services</label>
                            </div>
                        </div>
                    </div>
                </fieldset>
                <div class="form-group row mt-3">
                    <label  class="col-sm-2 col-form-label " style="color: aliceblue;">Name *</label>
                    <div class="col-sm-10 col-md-7 col-9" style="margin-left: -2.2rem;">
                      <input required type="text" class="form-control" name="name" id="nameInput" style="color: aliceblue;" placeholder="Enter Item Name">  
                    </div>
                </div>
                <div class="form-group row mt-3">
                    <label class="col-sm-2 col-form-label" style="color: aliceblue;">Unit <i class="fa fa-question-circle"></i></label>
                    <div class="col-sm-10 col-md-7 col-9" style="margin-left: -2.2rem;">
                        <div class="d-flex align-items-center">
                            <select name="unit" class="form-control bg-black text-white" id="selunit"  >
                              {% for i in units %}
                                <option value={{i.id}}>{{i.unit_name}}</option>
                              {% endfor %}
                            </select>                      
                            <a class="btn btn-outline-warning py-2 ms-1" style="cursor: pointer;" data-toggle="modal" data-target="#unitmodal" style="height: 38px;">+</a>
                        </div>
                    </div>
                </div>

                <div class="form-group row mt-3">
                    <label class="col-sm-2 col-form-label" style="color: aliceblue;">HSN Code</label>
                    <div class="col-sm-10 col-md-7 col-9" style="margin-left: -2.2rem;">
                        <input required type="text" class="form-control" name="hsn" required id="myInputField" style="color: aliceblue;" placeholder="Enter six digit HSN code" oninput="validateInput()">
                        <div id="validationResult"></div>
                    </div>
                </div>
                <fieldset class="form-group mt-3" >
                    <div class="row">
                  
                        <div class="col-12 col-md-10">
                          <label class="col-12 col-md-2 col-form-label pt-3" style="color: aliceblue;">Tax Preference: &nbsp;&nbsp;</label>
                            <div class="form-check form-check-inline">
                                <input required class="form-check-input" type="radio" name="radio" id="gridRadios3" onclick="showAllSelect()" value="taxable">
                                <label class="form-check-label text-white" for="gridRadios3">Taxable</label>
                            </div> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
                            <div class="form-check form-check-inline ml-md-3">
                                <input required class="form-check-input" type="radio" name="radio" id="gridRadios4"  onclick="hideAllSelect()" value="None-Taxable">
                                <label class="form-check-label text-white" for="gridRadios4"> None-Taxable</label>
                            </div>
                        </div>
                    </div>
                </fieldset>

                <div class="row mt-3">
                    <div class="col-md-3">
                        <div id="select1_div" style="display: none;">
                            <label for="select1">Intra-State TAX</label><br> <br>
                            <select name="intra" class="form-control" id="intraStateTax" style="background-color: black; color: white;">
                                <option value="0">GST0[0%]</option>
                                <option value="3">GST3[3%]</option>
                                <option value="5">GST5[5%]</option>
                                <option value="12">GST12[12%]</option>
                                <option value="18">GST18[18%]</option>
                                <option value="28">GST28[28%]</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div id="select2_div" style="display: none;">
                            <label for="select2">Inter-State TAX</label> <br><br>
                            <select name="inter" class="form-control " id="interStateTax" style="background-color: black; color: white;">
                                <option value="0">IGST0[0%]</option>
                                <option value="3">IGST3[3%]</option>
                                <option value="5">IGST5[5%]</option>
                                <option value="12">IGST12[12%]</option>
                                <option value="18">IGST18[18%]]</option>
                                <option value="28">IGST28[28%]</option>
                            </select>
                        </div>
                    </div>
                  </div>
                
                  <div class="row mt-3">
                    <div class="col-md-6">
                      <input  type="checkbox" name="selling" checked> <label >selling  information</label><br><br>
                      <div class="form-group row mt-3">
                        <label class="col-4 col-form-label" style="color: aliceblue;">Selling price </label>
                        <div class="col-sm-8 col-md-8 col-8">
                          <div class="input-group mb-2">
                            <div class="input-group-prepend">
                              <div class="input-group-text text-white" style="background-color: black;">INR</div>
                            </div>
                            <input required type="text" id="salesprice" name="sel_price" style="color: #ede4e4;" class="form-control">
                          </div>
                        </div>
                      </div>

                      <div class="form-group row mt-3">
                        <label  class="col-4 col-form-label" style="color: aliceblue;">Account *</label>
                        <div class="col-sm-18 col-md-8 col-8">
                          <select name="sel_acc" class="form-control " id="salesAccount" style="background-color: black; color: white;">
                            <option value=" ">--Select Account--</option>
                            <option value="General Income">General Income</option>
                            <option value="Interest Income">Interest Income</option>
                            <option value="Late Fee  Income">Late Fee  Income</option>  
                            <option value="Discount Income">Discount Income</option>
                            <option value="Other Charges">Other Charges</option>
                            <option value="Shipping Charge">Shipping Charge</option>
                        
                          </select>                              
                        </div>
                      </div>
                      <div class="form-group row mt-3">
                        <label  class="col-4 col-form-label" style="color: aliceblue;">Description </label>
                        <div class="col-sm-18 col-md-8 col-8">
                          <input  type="text" id="salesDescription" style="color: #ede4e4;" name="sel_desc" class="form-control " placeholder="Enter Discription">
                        </div>
                      </div>
                                            
                    </div>
                    <div class="col-md-6">
                      <input type="checkbox" name="purchase" checked> <label for="">Purchase information</label><br><br>
                      <div class="form-group row mt-3">
                        <label  class="col-4 col-form-label" style="color: aliceblue;">Cost Price*</label>
                        <div class="col-sm-8 col-md-8 col-8">
                          <div class="input-group mb-2">
                            <div class="input-group-prepend">
                              <div class="input-group-text text-white" style="background-color: black;">INR</div>
                            </div>
                            <input required type="text" id="purprice" style="color: #ede4e4;" class="form-control " name="cost_price" >
                          </div>
                        </div>
                      </div>
                      <div class="form-group row mt-3 in">
              
                        <label class="col-4 col-form-label" style="color: aliceblue;">Account*</label>
                        <div class="col-sm-8 col-md-8 col-8">
                            <div class="d-flex align-items-center">
                                <select name="cost_acc" class="form-control text-white bg-black" id="myaccount" required>
                                  <option value="">--Select Account--</option>
                                  <optgroup id="expensesel" label="Expense">
                             
                                  {% for i in accounts %}
      
                                  {% if i.account_type == 'Expense' %}
                                
                                    <option value="{{i.account_name}}">{{i.account_name}}</option>
                            
                                  {% endif %}
                                  {% endfor %}
                                </optgroup>
                                <optgroup id="costofgoods" label="Cost Of Goods Sold">
                                  {% for i in accounts %}
                                  {% if i.account_type == 'Cost Of Goods Sold' %}
                            
                                    <option value="{{i.account_name}}">{{i.account_name}}</option>
                                    
                                    {% endif %}
                                    {% endfor %}
                                  </optgroup>
                                  <optgroup id="otherexpensesel" label="Other Expense">
                                  {% for i in accounts %}
                                  {% if i.account_type == 'Other Expense' %}
                            
                                    <option value="{{i.account_name}}">{{i.account_name}}</option>
                                    
                                    {% endif %}
                                    {% endfor %}
                                  </optgroup>
                      
                                 
                              
                                </select>                    
                                <a class="btn btn-outline-warning py-2 ms-1" style="cursor: pointer;" data-toggle="modal" data-target="#newAccount" style="height: 38px;">+</a>
         
                            </div>
                           
                        </div>
                    </div>
                    <div class="form-group mt-3 row in">
                        <label class="col-4 col-form-label" style="color: aliceblue;">Description</label>
                        <div class="col-sm-8 col-md-8 col-8">
                            <div class="d-flex align-items-center">
                                <input  type="text" style="color: #ede4e4;" name="pur_desc" id="purchaseDescription" class="form-control " placeholder="Enter Discription">
                            </div>
                        </div>
                    </div>
                    </div>
                </div>

                <div class="form-group row mt-3">
                    <label class="col-sm-4 col-form-label" style="color: aliceblue;">Minimum Stock to maintain :</label>
                    <div class="col-sm-8 col-md-8 col-8 d-flex align-items-center">
                      <input type="number" style="color: #ede4e4;" id="minStock" name="minimum_stock" class="form-control mx-auto" placeholder="Enter Minimum Stock">
                    </div>
                </div>

                <div class="row mt-3" >
                    <div class="col-md-10">
                      {% comment %} <label style="color: aliceblue;"><input type="checkbox" value="trackstate" name="trackstate" onclick="toggleForm()" style="display: none;">
                     Track Inventory for this item</label> {% endcomment %}
                      <!-- {% comment %} <input type="checkbox" name="trackState" id="trackStateCheckbox">{% endcomment %} -->
                      <label style="color: aliceblue;">
                     
                        <input type="checkbox" name="trackstate" class=" " id="trackInv"  onclick="toggleFormFields()">
                        Track Inventory for this item
                      </label>   <br>   <br>
                      <div id="formFields" style="display: none;"> 
                        <div class="form-group row" >
                          <label class="col-sm-2 col-form-label" style="color: aliceblue;">Inventory Account *</label>
                          <div class="col-sm-10 col-md-7 col-9" style="margin-left: -1rem;">
                            <select class="form-select form-select-sm mt-3 " id="invAcc" name="invacc" style="background-color: black; color: white;">
                              <option value="">Choose..</option>
                              <option value="inventory assets">Inventory Asset</option>
                            </select>
                          </div>
                        </div>
                        <br>
                        <div class="form-group row ">
                          <label class="col-sm-2 col-form-label" style="color: aliceblue;">Opening Stock</label>
                          <div class=" col-md-5">
                            <input  type="number" style="color: #ede4e4;" class="form-control " id="stockOnHand" name="openstock" value="0">
                          </div>
                          </div>
                          <br>
                          <div class="form-group row ">
                              <label class="col-sm-2 col-form-label" style="color: aliceblue;">Opening Stock Rate per Unit</label>
                              <div class=" col-md-5">
                                  <input type="number" id="stockRate" style="color: #ede4e4;" class="form-control" name="rate"  value="0">
                              </div>
                              </div>
    
                        </div>
                    </div>
                </div>
            
            </form>
            <div class="row mt-5">
                <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="d-flex justify-content-center">
                    <button class="btn save_btn rounded-pill text-grey w-25 my-1 mx-1 btn-outline-warning" type="button" id="saveNewItem">Save</button>
                    <button type="button" class="close btn save_btn rounded-pill text-grey w-25 my-1 mx-1 btn-outline-warning close_item_modal" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Cancel</span></button>
                </div>
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>  
</div>

<!-- New Unit Modal-->     

<div class="modal fade" id="unitmodal">
    <div class="modal-dialog">
        <div class="modal-content" style="background: rgb(32, 35, 37);border-radius: 20px;">
        <div class="modal-header" style="background: rgb(32, 35, 37);">
            <h5 class="m-3 text-uppercase" id="shareBillEmailLabel" style="color: #eeeaea;">Add Unit</h5>
            <button type="button" class="close btn btn-danger" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body" style="background: rgb(32, 35, 37);">
            <div class="card p-3 m-3" style="background-color: #000;">
            
                <div id="error-message-container" style="color: chocolate;"></div>
                    <form class="needs-validation" novalidate autocomplete="off" id="unitform">
                        {% csrf_token %}
                        <label class="text-dark" for="unit"><b>Unit Name</b></label>
                        <input type="text" class="form-control text-white"  placeholder="Enter unit" id="unitName" name="unit_name" required>
                        <p class="text-white">eg:KL,PCS,BOX,LTR</p>

                        <div class="row mt-5">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="d-flex justify-content-center">
                                <button class="btn save_btn rounded-pill text-grey w-25 my-1 mx-1 btn-outline-warning" type="button" id="newUnitSave">Save</button>
                                <button type="button" class="close btn save_btn rounded-pill text-grey w-25 my-1 mx-1 btn-outline-warning close_unit_modal" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Cancel</span></button>
                            </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>


























<!------customer section          ----------------------------------------->







<!-- New Customer Modal -->
<div class="modal fade" id="newCustomer">
    <div class="modal-dialog modal-xl">
        <div class="modal-content" style="background-color: #0f1419;">
            <div class="modal-header">
                
            </div>
            <div class="modal-body">
                <div class=" p-3">
                  <h3  class="mb-4 mt-2  " style="font-size: 1.40rem;color: rgb(230, 171, 45);">New Customer</h3>
              
             
              <form  method="post" action="" id="myForm" enctype="multipart/form-data" class="mb-3" onsubmit=" submitForm();event.preventDefault();">
                  {% csrf_token %}
          
                  <div class="form-group row mt-4">
                      <label class="col-sm-12 col-md-3 col-lg-3 col-form-label" style="color: white;">Customer Type</label>
                      
                      <div class=" col-sm-12 col-md-3 col-lg-3">
                          <input  type="radio"  value="Business" name="type" >
                                  <label for="Business"> Business</label>
                                 &nbsp;&nbsp;&nbsp;
                                 <input  type="radio"  value="Individual" name="type" >
                                 <label for="Business">Individual</label>
                      </div><br></div>
  
  
  
                  <div class=" form-group row">
                      <div class="col-sm-12 col-md-3 col-lg-3 col-form-label">
                          <label>Primary Contact</label>
                      </div>
                      <div class="col-sm-12 col-md-1 col-lg-1" >
                          <select id="select1"  name="salutation" class="form-control bg-light text-dark mt-2 " >
                          
                              <option value="Mr">Mr</option>
                              <option value="Mrs">Mrs</option>
                              <option value="Ms">Ms</option>
                              <option value="Dr">Dr</option>
  
                          </select> 
                      </div>
                      <div class="col-sm-12 col-md-2 col-lg-3" >
                          <input  type="text" class="form-control bg-light text-dark mt-2 change-disply " id="fname" name="first_name" placeholder="first name" required >
  
                      </div>
                      <div class="col-sm-12 col-md-2 col-lg-3" >
                          <input type="text" class="form-control bg-light text-dark mt-2 " id="lname" name="last_name" placeholder="last name" required >
  
                      </div>
                  </div>
  
                  <div class="form-group row mt-4">
                      <div class="col-sm-12 col-md-3 col-lg-3 col-form-label"><label>Customer Display Name</label></div>
                      <div class="col-sm-12 col-md-6 col-lg-7">
                         
                          <select class="form-control bg-light text-dark "  name="v_display_name" id="v_display_name">
                              
                          </select>
                          
                             
                              
                      </div>
                  </div>
  
  
                  <div class="form-group row mt-4">
                      <div class="col-sm-12 col-md-3 col-lg-3 col-form-label">
                          <label>Company Name</label>
                      </div>
                      <div class="col-sm-12 col-md-6 col-lg-7">
                          <input  type="text" class="form-control bg-light text-dark " name="company_name" required>     
                          <div class="invalid-feedback">Please fill out this field.</div>   
  
                      </div>
                  </div>
  
                 
  
                 
  
                  <div class="form-group row mt-4">
                      <div class="col-sm-12 col-md-3 col-lg-3 col-form-label"><label>Customer Email</label></div>
                      <div class="col-sm-12 col-md-6 col-lg-7">
                          <input  type="email" class="form-control bg-light text-dark" name="vendor_email"  id="vendor-email"  required> 
                          <span class=" text-danger mt-1" id="email-message-id" style="font-size: 10px;"></span>   
      
                      </div>
  
  
                  </div>
  
                  <div class="form-group row mt-4">
                      <div class="col-sm-12 col-md-3 col-lg-3 ">
                          <label class="col-form-label text-white">Customer phone</label>
                      </div>
                      <div class="col-sm-12 col-md-3 col-lg-3">
                          <input id="workphone"  type="text" class="form-control bg-light text-dark mt-2" pattern="[0-9]{7}"  name="w_phone" placeholder="work phone" required>
                          <span id="work-phone-message" class="mt-2 " style="font-size: 10px;"></span >
                          <span id="workphone_label" class="mt-2 text-danger" style="font-size: 10px;"></span >
                          <div class="invalid-feedback"></div>   
      
                      </div>
                      <div class=" col-sm-12 col-md-3 col-lg-4">
                          <input id="mphone"  type="text" pattern="[0-9]{10}" class="form-control bg-light text-dark mt-2"  name="m_phone" placeholder="mobile number" required>
                          <span id="phone-message" class="mt-2 " style="font-size: 10px;"></span >
                          <span id="mphone_label" class="mt-2 text-danger" style="font-size: 10px;"></span >
                          <div class="invalid-feedback"></div>   
      
                      </div>
  
                      <hr style="border: none; height: 2px; background-color: #ffcc00; margin: 20px 0;">
  
                      <div class="toggle1 section-toggle">
                          <a href="">Add More Details</a>
  
                      </div>
  
  
                  </div>
                  
  
                  <fieldset1 id="more_detail" class="more details" style="display: none;">
  
                      <div class="form-group row mt-4">
                          <div class="col-sm-12 col-md-3 col-lg-3 col-form-label">
                              <label>Skype name/Number</label>
                          </div>
                          <div class="col-sm-12 col-md-6 col-lg-6">
                              <input  type="text" class="form-control bg-light text-dark" name="skype_number">      
                          </div>
  
                      </div>
  
                      <div class="form-group row mt-4">
                          <div class="col-sm-12 col-md-3 col-lg-3 col-form-label">
                              <label>Designation</label>
                          </div>
                          <div class="col-sm-12 col-md-6 col-lg-6">
                              <input  type="text" class="form-control bg-light text-dark" name="designation">      
                          </div>
  
                      </div>
  
                      <div class="form-group row mt-4">
                          <div class="col-sm-12 col-md-3 col-lg-3 col-form-label">
                              <label>Department</label>
                          </div>
                          <div class="col-sm-12 col-md-6 col-lg-6">
                              <input  type="text" class="form-control bg-light text-dark" name="department">      
                          </div>
  
                      </div>
  
  
             
                  <div class="form-group row mt-4">
                      <div class="col-sm-12 col-md-3 col-lg-3 col-form-label"><label>Website</label></div>
                      <div class="col-sm-12 col-md-6 col-lg-6">
                          <input id="web" type="text" class="form-control bg-light text-dark" onclick="mobile_phone()"    name="website">      
                      </div>
                  </div>
              </fieldset1>
  
  
                  <hr style="border: none; height: 2px; background-color: #ffcc00; margin: 20px 0;">
  
                  <div class="section-3">
  
                      <div class="toggle2 section-toggle"> <a href="" >Other Details </a> </div>
                      <div class="toggle3 section-toggle" > <a href="">Address </a> </div>
                      <div class="toggle4 section-toggle"><a href="" >Contact Persons </a></div>
                      <div class="toggle7 section-toggle"><a href="">Remarks</a></div>
  
                  </div>
  
                 
                  <fieldset2 class="other details">
  
                      <div class="form-group row mt-2">
                          <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > GST Treatment*</label>
                          
                          <div class=" col-sm-12 col-md-3 col-lg-3">
                              <select name="gst" id="GSTT" class="form-control bg-light text-dark" onclick="gstPan_function()">
                                  <option value="Select a Gst Treatment" selected>Select a Gst Treatment</option>
                                  <option value="Registered Business-Regular Business that is registered under GST">Registered Business-Regular Business that is registered under GST</option>
                                  <option value="Registered Business-Composition Business that is registered under the Composition scheme in GST">
                                      Registered Business-Composition Business that is registered under the Composition schemen in GST
                                  </option>
                                  <option value="Unregistered Business-not Registered under GST">Unregistered Business-not Registered under GST</option>
                                  <option value="Overseas- Persons with who you do import or exports of supplies outside india">Overseas- Persons with who you do import or exports of supplies outside india</option>
                                  <option value="Special Economic Zone">Special Economic Zone</option>
                              </select><br>
                          </div>
  
  
                      </div>
  
                      <fieldset3 id="gst" style="display: none;">
                          <div class="row mt-4">
                              <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white"  > GSTIN/UIN*</label>
                              
                              <div class=" col-sm-12 col-md-3 col-lg-3">
                                  <input type="text" class="form-control bg-light text-dark" name="gst_number" id="gstInput" > 
                                  <span id="gstMessage"></span>       
          
                              </div>
          
          
                          </div>
  
                      </fieldset3>
  
                      <fieldset4 id="pan" style="display: none;">
                          <div class=" row mt-4">
                              <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > PAN</label>
                              
                              <div class=" col-sm-12 col-md-3 col-lg-3">
                                  <input type="text" class="form-control bg-light text-dark"  id="panInput"  name="pan_number">  
                                  <span id="panMessage"></span>    
  
          
                              </div>
          
          
                          </div>
  
                      </fieldset4>
  
  
                      <div class="form-group row mt-4">
                          <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > Source of Supply*</label>
                          
                          <div class=" col-sm-12 col-md-3 col-lg-3">
                              <select name="source_supply" id="PLACE" class="form-control bg-light text-dark">
                                  <option value="value" selected></option>
                                  <option value="[AN]-Andaman And Nicobar Islands">[AN]-Andaman And Nicobar Islands</option>
                                  <option value="[AD]-Andhra Pradesh">[AD]-Andhra Pradesh</option>
                                  <option value="[AR]-Arunachal Pradesh">[AR]-Arunachal Pradesh	</option> 
                                  <option value="volvo">[AS]-Assam</option>
                                  <option value="[BR]-Bihar">[BR]-Bihar</option> 
                                  <option value="volvo">[CH]-	Chandhigarh</option>
                                  <option value="[CG]-Chattisgarh">[CG]-Chattisgarh</option>
                                  <option value="[DD]-Daman Diu">[DD]-Daman Diu</option>
                                  <option value="volvo">[DL]-	Delhi</option>
                                  <option value="[GA]-Goa">[GA]-Goa</option> 
                                  <option value="[GJ]-Gujarat">[GJ]-Gujarat</option>
                                  <option value="[HR]-Haryana">[HR]-Haryana</option> 
                                  <option value="[HP]-Himachal Pradesh">[HP]-Himachal Pradesh</option>
                                  <option value="[JK]-Jammu And Kashmir">[JK]-Jammu And Kashmir</option>
                                  <option value="[JH]-Jharkand">[JH]-Jharkand</option>
                                  <option value="[KA]-Karnataka">[KA]-Karnataka</option>
                                  <option value="[KL]-Kerala">[KL]-Kerala</option>
                                  <option value="[LA]-Ladakh">[LA]-Ladakh</option>
                                  <option value="[LD]-Lakshadweep">[LD]-Lakshadweep</option>
                                  <option value="[MP]-Madhyapradesh">[MP]-Madhyapradesh</option>
                                  <option value="[MH]-Maharashtra">[MH]-Maharashtra</option>
                                  <option value="[MN]-Manipur">[MN]-Manipur</option>  
                                  <option value="[ML]-Meghalaya">[ML]-Meghalaya</option>
                                  <option value="[MZ]-Mizoram">[MZ]-Mizoram</option>
                                  <option value="[NL]-Nagaland">[NL]-Nagaland</option> 
                                  <option value="[NL]-Nagaland">[NL]-Nagaland</option>
                                  <option value="[OD]-Odisha">[OD]-Odisha</option>
                                  <option value="[PY]-Puducherry">[PY]-Puducherry</option>
                                  <option value="[PB]-Punjab">[PB]-Punjab.</option>
                                  <option value="[RL]-Rajasthan">[RL]-Rajasthan</option>
                                  <option value="[SK]-Sikkim">[SK]-Sikkim</option>
                                  <option value="[TN]-Tamilnadu">[TN]-Tamilnadu</option>
                                  <option value="[TS]-Telenghana">[TS]-Telenghana</option>
                                  <option value="[TR]-Tripura">[TR]-Tripura</option>
                                  <option value="[UP]-Uttar Pradesh">[UP]-Uttar Pradesh</option>
                                  <option value="[UK]-Utharakhand">[UK]-Utharakhand</option>
                                  <option value="[WB]-West Bengal">[WB]-West Bengal</option>
                                  <option value="[OT]-Other Territory">[OT]-Other Territory</option>
                              </select>
                          </div>
      
      
                      </div>
  
  
  
                      <!-- <div class="form-group row mt-4">
                          <label class="col-sm-12 col-md-3 col-lg-3 col-form-label" style="color:rgb(214, 75, 75) ;">Tax Preference*</label>
                          
                          <div class=" col-sm-12 col-md-3 col-lg-3">
                              <input type="checkbox" id="Taxable" name="tax1" value="Taxable">&nbsp;
                              <label for="vehicle1" class="pt-1">Taxable</label>
                              &nbsp;&nbsp;&nbsp;
                              <input type="checkbox" id="Tax_Exempt" name="tax1" value="Tax Exempt">&nbsp;
                              <label for="vehicle2" class="pt-1">Tax Exempt</label>
                        
                          </div>
                      </div> -->
  
  
  
  
                      <div class="form-group row mt-4">
                          <label class="col-sm-12 col-md-3 col-lg-3 col-form-label" style="color:rgb(214, 75, 75) ;">Tax Preference*</label>
                          
                      <div class="col-sm-12 col-md-3 col-lg-4 d-flex align-items-center">
                          <div class="form-check form-check-inline">
                              <input class="form-check-input" type="radio" name="tax1" id="Taxable" value="Taxable" required>
                              <label class="form-check-label text-white" for="vehicle1">Taxable</label>
                          </div>
                          <div class="form-check form-check-inline">
                              <input class="form-check-input" type="radio" name="tax1" id="Tax_Exempt" value="Tax Exempt" required>
                              <label class="form-check-label text-white" for="vehicle2">Tax Exempt</label>
                          </div>
                      </div>
                  </div>
  
       
                      <!-- </div> -->
                      
                      <div class="form-group row mt-4">
                          <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > Currency*</label>
                          
                          <div class=" col-sm-12 col-md-3 col-lg-3">
                              <select name="currency" id="PLACE" class="form-control bg-light text-dark">
                                  <option value="Indian Rupee" selected>Indian Rupee</option>
                                  <!-- <option value="Indian Rupee">Indian Rupee</option> -->
                      
                              </select>
                          </div>
      
      
                      </div>
  
                      <div class="form-group row mt-2">
                          <div class="col-sm-12 col-md-3 col-lg-3 ">
                             <label class="col-form-label text-white mb-3"> Opening Balance Type</label>
                          </div>
                          <div class="col-sm-12 col-md-3 col-lg-4 d-flex align-items-center">
                              <div class="form-check form-check-inline">
                                  <input class="form-check-input" type="radio" name="op_type" id="debit" value="debit">
                                  <label class="form-check-label text-white" for="debit">Debit</label>
                              </div>
                              <div class="form-check form-check-inline">
                                  <input class="form-check-input" type="radio" name="op_type" id="credit" value="credit">
                                  <label class="form-check-label text-white" for="credit">Credit</label>
                              </div>
                          </div>
                      </div>
  
                      <div class="form-group row mt-4">
                          <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > Opening Balance Amount</label>                    
                          <div class=" col-sm-12 col-md-3 col-lg-3">
                              <input  type="number" class="form-control bg-light text-dark" name="opening_bal" id="opa" value="0.00">      
                          </div>
                      </div>
  
                      <div class="form-group row mt-4">
                          <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" >Credit Limit</label>                    
                          <div class=" col-sm-12 col-md-3 col-lg-3">
                              <input  type="number" class="form-control bg-light text-dark" name="credit_lm" id="cl" value="0.00">      
                          </div>
                      </div>
                  
                    <!-- Alert -->
                      <div id="custom-alert" class="alert">
                          <span class="close-btn">&times;</span>
                          <div class="alert-content">
                            Credit limit should not exceed opening balance amount.
                          </div>
                        </div>
                        <style>
                          .alert {
                                  display: none;
                                  position: fixed;
                                  top: 30%;
                                  left: 50%;
                                  transform: translate(-50%, -50%);
                                  background-color: #f44336;
                                  color: white;
                                  padding: 15px;
                                  border-radius: 5px;
                                  }
  
                                  .close-btn {
                                  float: right;
                                  cursor: pointer;
                                  }
  
                                  .alert-content {
                                  margin-bottom: 10px;
                                  }
                        </style>
  
  
  
  
                      
                      <div class="form-group row mt-4">
                          <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > Payment Terms</label>
                          
                          <div class=" col-sm-12 col-md-3 col-lg-3">
                              <select name="payment_terms" id="paytearm-select" class="form-control bg-light text-dark">
                                 
  
                                  {% for pay_terms in comp_payment_terms %}
                                  <option value="{{pay_terms.id}}" >{{pay_terms.term_name}}</option>
                              {% endfor %}
                                  
                              </select>
  
                          </div>
      
                          <div class="col-md-4 ">
                              <a href="#" class="btn btn-outline-secondary py-2 my-1" data-target="#newpayment" data-toggle="modal" style="color: white; background-color: rgb(210, 132, 30);" >+</a>
                          </div>
                      
  
  
  
      
                      </div>
  
          
  
  
  
                      <div class="form-group row mt-4">
                          <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white">Price List </label>
                           
                          <div class=" col-sm-12 col-md-3 col-lg-3">
                              <select name="plst" id="PLACE" id="PLACE" class="form-control bg-light text-dark">
                                  <option value="0">Not selected</option>
  
                                  
                                  {% for price_list in price_lists %}
  
                                  <option value="{{price_list.id}}">{{price_list.name}}</option>
      
                                      
                                  {% endfor %}
  
                                   
                                   
                                    
                                   </select>
                             
                          </div>
              
              
                      </div>
                   
                           
      
                            
      
      
      
      
      
      
                                  <div class="form-group row mt-4">
                                      <label class="col-sm-12 col-md-3 col-lg-3 col-form-label" style="color:white ;">
                                          Portal Language</label>
                                          <div class=" col-sm-12 col-md-3 col-lg-3">
                                              <select name="plang" id="PLACE" style="width: 100%;" class="form-control bg-light text-dark">
                                                  <option selected value="0" >Choose..</option>
                                                  <option value="ENGLISH">ENGLISH</option>
                                                </select>
                                      </div></div>   
                                      <div class="form-group row mt-4">
                                          <label class="col-sm-12 col-md-3 col-lg-3 col-form-label" style="color:white ;">Facebook </label>
                                              <div class=" col-sm-12 col-md-3 col-lg-3"> 
                                                  <input type="text" id="cn" name="fbk" class="form-control bg-light text-dark" >
                                                  
                                          </div></div>
                                      <div class="form-group row mt-4">
                                          <label class="col-sm-12 col-md-3 col-lg-3 col-form-label" style="color:white ;">Twitter</label>
                                              <div class=" col-sm-12 col-md-3 col-lg-3">
                                                  <input type="text" id="cn" name="twtr" class="form-control bg-light text-dark" >
                                                
                                          </div></div>
                                          
  
  
  
  
                  </fieldset2>
  
  
                  <!------------------ Address Section Start------------- -->
  
                  <fieldset5 id="address" style="display: none;">
                      <div>
                          <div class="row">
                              <div class="col-sm-12 col-md-6 col-lg-6">
                                  <div class="row">
                                      <div class="col-sm-12 col-md-6 col-lg-6">
                                          <label for="">BILLING ADDRESS</label>
                                      </div>
                                      <div class="col"></div>
                                  </div>
                                  <div class="form-group row mt-4">
                                      <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > Attention</label>                    
                                      <div class=" col-sm-12 col-md-6 col-lg-6">
                                          <input  type="text" class="form-control bg-light text-dark" name="battention" id="batten">      
                                      </div>
                                  </div>
                                  <div class="form-group row mt-4">
                                      <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > Country</label>                    
                                      <div class=" col-sm-12 col-md-6 col-lg-6">
                                          <select name="bcountry" id="btry" class="form-control bg-light text-dark">
                                              <option value="India" selected>India</option>
                                          </select>      
                                      </div>
                                  </div>
                                  <div class="form-group row mt-4">
                                      <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > Address</label>                    
                                      <div class=" col-sm-12 col-md-6 col-lg-6">
                                          <textarea class="form-control bg-light " style="border: none;color: rgb(7, 7, 7);" cols="26" rows="4" name="baddress" id="badd1"></textarea>
                                      </div>
                                  </div>
                                  <div class="form-group row mt-4">
                                      <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > City</label>                    
                                      <div class=" col-sm-12 col-md-6 col-lg-6">
                                          <input  type="text" class="form-control bg-light text-dark" name="bcity" id="bcty">      
                                      </div>
                                  </div>
                                  <div class="form-group row mt-4">
                                      <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > State</label>                    
                                      <div class=" col-sm-12 col-md-6 col-lg-6">
                                          <input type="text" class="form-control bg-light text-dark" name="bstate" id="bste">      
                                      </div>
                                  </div>
                                  <div class="form-group row mt-4">
                                      <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > Zip Code </label>                    
                                      <div class=" col-sm-12 col-md-6 col-lg-6">
                                          <input  type="number" class="form-control bg-light text-dark" name="bzip" id="bzp">      
                                      </div>
                                  </div>
                              
                                  <div class="form-group row mt-4">
                                      <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > Phone </label>                    
                                      <div class=" col-sm-12 col-md-6 col-lg-6">
                                          <input id="bphone_num"  type="tel" pattern="[0-9]{10}" class="form-control bg-light text-dark" name="bphone" >
                                          <label for="" id="bphone_label"></label>      
                                      </div>
                                  </div>
                                  <div class="form-group row mt-4">
                                      <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > Fax </label>                    
                                      <div class=" col-sm-12 col-md-6 col-lg-6">
                                          <input  type="tel" class="form-control bg-light text-dark" pattern="[0-9]{7}" onmouseout="fax_number()"  onclick="bphone_number()"                                       name="bfax" id="bfx">  
                                      
                                          <label for="" id="fax_label"></label> 
                                      </div>
                                  </div>
  
                              </div>
                              <div class="col-sm-12 col-md-6 col-lg-6">
                                  <div class="row">
                                      <div class="col-sm-12 col-md-6 col-lg-6">
                                          <label for="">SHIPPING ADDRESS</label>
                                      </div>
                                      <div class="col-sm-12 col-md-6 col-lg-6">
                                          <input  type="checkbox" id="myCheckT" onclick="myCopyAddressFunction()">&nbsp;
                                          <label for="myCheck">Same as Billing Address:</label>
                                      </div>
                                  </div>
                                  <div class="form-group row mt-4">
                                      <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > Attention</label>                    
                                      <div class=" col-sm-12 col-md-6 col-lg-6">
                                          <input  type="text" class="form-control bg-light text-dark " style="color: white;" name="sattention" id="satten">      
                                      </div>
                                  </div>
                                  <div class="form-group row mt-4">
                                      <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > Country</label>                    
                                      <div class=" col-sm-12 col-md-6 col-lg-6">
                                          <select name="s_country" id="sctry" class="form-control bg-light text-dark">
                                              <option value="India" selected>India</option>
                                          </select>      
                                      </div>
                                  </div>
                                  <div class="form-group row mt-4">
                                      <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > Address</label>                    
                                      <div class=" col-sm-12 col-md-6 col-lg-6">
                                          <textarea class="form-control bg-light" style="border: none;color: rgb(10, 10, 10);" id="sadd1" cols="26" rows="4" name="saddress"></textarea>
                                      </div>
                                  </div>
                                  <div class="form-group row mt-4">
                                      <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > City</label>                    
                                      <div class=" col-sm-12 col-md-6 col-lg-6">
                                          <input  type="text" class="form-control bg-light text-dark" name="scity" id="scty">      
                                      </div>
                                  </div>
                                  <div class="form-group row mt-4">
                                      <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > State</label>                    
                                      <div class=" col-sm-12 col-md-6 col-lg-6">
                                          <input type="text" class="form-control bg-light text-dark" name="sstate" id="sste">      
                                      </div>
                                  </div>
                                  <div class="form-group row mt-4">
                                      <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > Zip Code </label>                    
                                      <div class=" col-sm-12 col-md-6 col-lg-6">
                                          <input  type="number" class="form-control bg-light text-dark" name="szip" id="szp">      
                                      </div>
                                  </div>
                              
  
                                  <div class="form-group row mt-4">
                                      <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > Phone </label>                    
                                      <div class=" col-sm-12 col-md-6 col-lg-6">
                                          <input  type="tel" class="form-control bg-light text-dark" pattern="[0-9]{10}" style="color: white;" name="sphone" id="sphone_num">  
                                          <label for="" id="sphone_label"></label>    
                                      </div>
                                  </div>
                                  <div class="form-group row mt-4">
                                      <label class="col-sm-12 col-md-3 col-lg-3 col-form-label text-white" > Fax </label>                    
                                      <div class=" col-sm-12 col-md-6 col-lg-6">
                                          <input  type="tel" class="form-control bg-light text-dark" pattern="[0-9]{7}" style="color: white;" name="sfax" onclick="sphone_number()" onmouseout="sfax_number()" id="sfx"> 
                                          <label for="" id="sfax_label"></label>     
                                      </div>
                                  </div>
  
                              </div>
                          </div>
                      </div>
                  </fieldset5>
  
                  <!---------------------Address  Section End -------------->
  
  
                  <!------------------ Contact Person Section Start------------- -->
  
                  <fieldset6 id="contact_person" style="display: none;" >
                      <div class="row">
                          <div class="col-sm-12 ">
                              
                              <div class="table-responsive">
                              
                                  <table id="tbl" class="table text-white" style="background-color: rgba(250, 227, 198, 0.5);">
                                      <thead>
                                          <tr>
                                              
                                          <th>Salutation</th>
                                          <th>First Name</th>
                                          <th>Last Name</th>
                                          <th>Email Address</th>
                                          <th >Work Phone <br><span id="twph_label"></span></th>
                                          <th >Mobile <br><span id="tlabel"></span>    </th>
                                          <th >Skype Name/No</th>
                                          <th >Designation</th>
                                          <th >Department</th>
                                          <th>Action</th>
  
                                      </tr>
                                  </thead>
                                  <tbody>
                                      <tr>
                                      <td><select name="salutation[]" class="form-control bg-transparent border-1 text-white"  id="PLACE" >
                                          <option class="text-dark"  >Select</option>
                                          <option class="text-dark" value="Mr" >Mr.</option>
                                          <option class="text-dark" value="Mrs">Mrs.</option>
                                          <option class="text-dark" value="Ms">Ms.</option>
                                          <option class="text-dark" value="Miss">Miss.</option>
                                          <option class="text-dark" value="Dr">Dr.</option>
                                          </select></td>
                                      <td><input type="text" class=" form-control border-1 bg-transparent text-white"    name="first_name[]"  ></td>
                                      <td><input type="text"class="form-control border-1 bg-transparent text-white"  name="last_name[]" /></td>
                                      <td>
                                          <input type="text" class="form-control border-1 bg-transparent text-white" name="email[]" />
                                          
                                          
                                      </td>
                                      
                                      <td>
                                          <input type="tel" pattern="[0-9]{7}" class="form-control border-1 bg-transparent text-white"  id="twphone" name="wphone[]"/>
                                         
                                      </td>
                                      <td>
                                          <input type="tel" pattern="[0-9]{10}"  class="form-control border-1 bg-transparent text-white"  id="tmobile" onclick="sample1()"   name="mobile[]" />
                                          
                                      </td>
                                      <td><input type="number" class="form-control border-1 bg-transparent text-white"  onclick="sample()" name="skype[]" /></td>
                                      <td><input type="text" class="form-control border-1 bg-transparent text-white"  name="designation[]" /></td>
                                      <td><input type="text" class="form-control border-1 bg-transparent text-white"  name="department[]" /></td>
                                      <td><button type="button" class="btn btn-danger" onclick="deleteContact(this)">Delete</button></td>
                                      </tr>
                                  </tbody>
                                  </table>
                                  
                              </div>
                              
                              <div class="button add_another mt-3 ">
                                  <i class="fa fa-user-plus" aria-hidden="true"></i> 
                                  <span class="text-small" style="margin-left: 0.30rem;">
                                      Add Contact Person
                                  </span>
                              </div>
                                 
                              
                          </div>
                          
                      </div>
  
                  </fieldset6>
  
                  <!---------------------Contact Person Section End -------------->
  
  
                  <!------------------ Remark Section Start------------- -->
  
                  <fieldset7 class="remarks" style="display: none;">
                      <div class="row">
                          <div class="col-sm-12 col-md-8 col-lg-8">
                              <div class="form-group row mt-4">
                                  <div class=" col-sm-12 col-md-6 col-lg-6">
                                      <textarea class="bg-light w-100" style="border: none;color: rgb(5, 5, 5);"   rows="5" name="remark"></textarea>
                                  </div>
                              </div>
                          </div>
                          <div class="col-sm-12 col-md-2 col-lg-2"></div>
                      </div>
  
                  </fieldset7>
  
                  <!---------------------Remark Section End -------------->
                  
                  <div class="row mt-5">
                      <div class="col-sm-12 col-md-2 col-lg-2 mt-3">
                        <!---<button class="btn save_btn rounded-pill text-grey w-25 my-1 mx-1 btn-outline-warning" type="button" id="saveNewItem">Save</button>---->
                          <button type="button" id="newCustomerSave" class="btn btn-outline-warning form-control bg-warning text-dark" style="font-weight: bold;" >Save</button>
                         
                      </div>
                   
                      
                      <div class=" col-sm-12 col-md-2 col-lg-2 mt-3">
                          <button type="button" class="form-control bg-warning text-dark" style="font-weight: bold;" data-dismiss="modal">Cancel</button>
                         
                      </div> 
                  </form>
  
  
                  </div>
  
         
  
             
        
                 
              <!--------------- Payments Seciton Start ----------------->
  
              <div class="modal fade" id="newpayment">
                  <div class="modal-dialog modal-md">
                  <div class="modal-content" style="background: rgb(32, 35, 37);border-radius: 20px;">
                      <div class="modal-header " style="background: rgb(32, 35, 37);">
                          <h3 class="m-3 text-uppercase" style="color: white;">Add Payment Term</h3>
                         
                      </div>
                      <div class="modal-body" style="background: rgb(32, 35, 37);">
                      <div class="card p-3 m-3" style="background-color: #141414a2;">
                          <form action="" method="post" class="needs-validation" novalidate autocomplete="off" id="paymentterms" >
                          
              
              
                          <div class="row mt-2">
              
                              <div class="col-lg-12 col-md-12 col-sm-12 mt-2">
                                  <label for="termname" style="color: white">Term Name *</label>
  
                              <input type="text " class="form-control text-dark bg-light mt-2" id="tname" name="term_name" autocapitalize="characters" required> 
                              <span id="message-id" class="mt-1 text-danger" style="font-size: 10px;"></span> 
                              <span id="success-message-id" class=" mt-1 text-success" style="font-size: 10px;"></span>    
                              </div>
              
                              <div class="col-lg-12 col-md-12 col-sm-12 mt-2">
                                  <label for="termdays" style="color: white">Number of Days *</label>
  
                              <input type="number" class="form-control text-dark bg-light mt-2" id="tdays" name="term_days" autocapitalize="characters" required>
                              </div>
                              <div class="col-md-2 mt-2"></div>
              
                          </div>
                          
                          <div class="row mt-5">
                              <div class="col-lg-12 col-md-12 col-sm-12">
                              <div class="d-flex">
                                  <button class="btn save_btn rounded-pill text-grey w-50 my-1 mx-1 btn-outline-warning "
                                  type="submit" onclick="termadd()"  data-dismiss="modal" id="term_Save">Save
                                  </button> 
                                  
              
                                  <button type="button" class="close btn save_btn rounded-pill text-grey w-50 my-1 mx-1 btn-outline-warning" 
                                  data-dismiss="modal" aria-label="Close">
                                      <span aria-hidden="true">Cancel</span>
                                  </button>
                              </div>
                              </div>
                          </div>
                          </form>
  
      
      

  
  
  
  
  
  
  
  
  
  
                      </div></div></div>
                     
                 
                  
                      















<!-- New Account Modal -->

<div class="modal fade" id="newAccount">
    <div class="modal-dialog modal-xl">
      <div class="modal-content" style="background: rgb(32, 35, 37);border-radius: 20px;">
        <div class="modal-header" style="background: rgb(32, 35, 37);">
          <h5 class="m-3 text-uppercase" id="shareBillEmailLabel" style="color: #eeeaea;"><b>New Account</b></h5>
          <button type="button" class="close" style="width: 30px;" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        </div>
        <div class="modal-body" style="background: rgb(32, 35, 37);">
          <div class="card p-3 m-3" style="background-color: #000;">
          
           
              <form method="post"  style="color: #000000;" id="newAccountForm">
                {% csrf_token %}
                {% for m in messages %}
                <p style="color: chocolate;">{{m}}</p>
                {% endfor %}
                  <div class="d-flex align-items-center">
                      <h5 style="font-size: 25px;color: aliceblue;">Create Account</h5>
                    
                  </div>
                  <div id="error-message-container2" style="color: chocolate;"></div>
                  <hr>
                  <div class="row ">
                      <div class="col">
                          <div class="row">
                              <div class="col-sm-4">
                                  <label for="">Account Type:</label>
                              </div>
                              <div class="col-sm-8">
                                  <div class="select-box1" onclick="message()">
                                      <div class="select-option1">
                                          <input type="text" placeholder="select" style="width: 100%;"  id="soValue1" name="account_type"readonly>
                                      </div>
                                      <div class="content1" id="myDropdown1">
                                          <div class="search1">
                                              <input type="text" placeholder="search" id="myInput1" onkeyup="filterFunction1()">
                                          </div>
                                          <ul class="options1" style="color: #000000;">
                                              <div class="opt" style="color: #000000;">
                                                  <span style="font-weight: bold;color: #000;">Assets</span>
                                                  <li style="color: #000000;">Other Assets</li>
                                                  <li>Other Current Assets</li>
                                                  <li>Cash</li>
                                                  <li>Bank</li>
                                                  <li>Fixed Asset</li>
                                                  <li>Stock</li>
                                                  <li>Payment Clearing</li>
                                              </div>
          
                                              <div class="opt">
                                                  <span style="font-weight: bold;color: #000;">Liability</span>
                                                  <li>Other Liability</li>
                                                  <li>Other Current Liability</li>
                                                  <li>Credit Card</li>
                                                  <li>Long Term Liability</li>
                                                  <li>Overseas Tax Payable</li>
                                              </div>
          
                                              <div class="opt">
                                                  <span style="font-weight: bold;color: #000;">Equity</span>
                                                  <li>Equity</li>
                                              </div>
          
                                              <div class="opt">
                                                  <span style="font-weight: bold;color: #000;">Income</span>
                                                  <li>Income</li>
                                                  <li>Other Income</li>
                                              </div>
          
                                              <div class="opt">
                                                  <span style="font-weight: bold;color: #000;">Expense</span>
                                                  <li>Expense</li>
                                                  <li>Cost Of Goods Sold</li>
                                                  <li>Other Expense</li>
                                              </div>
                                          </ul>
          
          
          
                                      </div>
                                  </div>
          
                              </div>
          
                              <script>
                                  const selectBox1 = document.querySelector('.select-box1');
                                  const selectOption1 = document.querySelector('.select-option1');
                                  const optionsList1 = document.querySelectorAll('.options1 li');
                                  const soValue1 = document.querySelector('#soValue1');
          
                                  selectOption1.addEventListener('click', function () {
                                      selectBox1.classList.toggle('active')
                                  })
          
                                  optionsList1.forEach(function (optionsListSingle) {
                                      optionsListSingle.addEventListener('click', function () {
                                          text = this.textContent;
                                          soValue1.value = text;
                                          selectBox1.classList.remove('active')
          
                                      })
                                  })
                              </script>
                          </div>
                          <div id="name" style="display: block;">
                              <div class="row mt-3">
                                  <div class="col-sm-4">
                                      <label for="">Account Name:</label>
                                  </div>
                                  <div class="col-sm-8">
                                      <input type="text" class="form-control text-dark bg-light" name="account_name"
                                          id="account_name" style="width: 100%;" required>
                                  </div>
                              </div>
                          </div>
          
                          <div id="credit" style="display: none;">
                              <div class="row mt-3">
                                  <div class="col-sm-4">
                                      <label for="">Credit Card Name:</label>
                                  </div>
                                  <div class="col-sm-8">
                                      <input type="text" class="form-control text-dark bg-light" style="width: 70%;" name="credit_number"
                                          id="credit_number">
                                  </div>
                              </div>
                          </div>
          
                          <div id="sub_div" style="display: none;">

                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for=""></label>
                                </div>
                        
                                <div class="col-sm-8">
                        
                                    <input type="checkbox" class=" text-dark bg-light" onclick="show_parent()"
                                        name="sub_account" id="sub_account">
                        
                                    <label for="">Make this a sub-account</label>
                        
                                </div>
                            </div>
                        </div>

                        <div id="sub_div22" style="display: none;">

                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for=""></label>
                                </div>
                        
                                <div class="col-sm-8">
                        
                                    <input type="checkbox" class=" text-dark bg-light" onclick="show_parent22()"
                                        name="sub_account22" id="sub_account22">
                        
                                    <label for="">Make this a sub-account</label>
                        
                                </div>
                            </div>
                        </div>
                        
                        <div id="sub_div33" style="display: none;">
                        
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for=""></label>
                                </div>
                        
                                <div class="col-sm-8">
                        
                                    <input type="checkbox" class=" text-dark bg-light" onclick="show_parent33()"
                                        name="sub_account33" id="sub_account33">
                        
                                    <label for="">Make this a sub-account</label>
                        
                                </div>
                            </div>
                        </div>
                        
                        <div id="sub_div44" style="display: none;">
                        
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for=""></label>
                                </div>
                        
                                <div class="col-sm-8">
                        
                                    <input type="checkbox" class=" text-dark bg-light" onclick="show_parent44()"
                                        name="sub_account44" id="sub_account44">
                        
                                    <label for="">Make this a sub-account</label>
                        
                                </div>
                            </div>
                        </div>
                        
                        <div id="sub_div55" style="display: none;">
                        
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for=""></label>
                                </div>
                        
                                <div class="col-sm-8">
                        
                                    <input type="checkbox" class=" text-dark bg-light" onclick="show_parent55()"
                                        name="sub_account55" id="sub_account55">
                        
                                    <label for="">Make this a sub-account</label>
                        
                                </div>
                            </div>
                        </div>
                        
                        
                        <div id="sub_div66" style="display: none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for=""></label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="checkbox" class=" text-dark bg-light" onclick="show_parent66()"
                                        name="sub_account66" id="sub_account66">
                                    <label for="">Make this a sub-account</label>
                                </div>
                            </div>
                        </div>
                        
                        
                        
                        <div id="sub_div77" style="display: none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for=""></label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="checkbox" class=" text-dark bg-light" onclick="show_parent77()"
                                        name="sub_account77" id="sub_account77">
                                    <label for="">Make this a sub-account</label>
                                </div>
                            </div>
                        </div>
                        
                        
                        
                        <div id="sub_div88" style="display: none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for=""></label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="checkbox" class=" text-dark bg-light" onclick="show_parent88()"
                                        name="sub_account88" id="sub_account88">
                                    <label for="">Make this a sub-account</label>
                                </div>
                            </div>
                        </div>
                        
                        <div id="sub_div99" style="display: none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for=""></label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="checkbox" class=" text-dark bg-light" onclick="show_parent99()"
                                        name="sub_account99" id="sub_account99">
                                    <label for="">Make this a sub-account</label>
                                </div>
                            </div>
                        </div>
                        
                        <div id="sub_div100" style="display: none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for=""></label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="checkbox" class=" text-dark bg-light" onclick="show_parent100()"
                                        name="sub_account100" id="sub_account100">
                                    <label for="">Make this a sub-account</label>
                                </div>
                            </div>
                        </div>
                        
                        <div id="sub_div111" style="display: none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for=""></label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="checkbox" class=" text-dark bg-light" onclick="show_parent111()"
                                        name="sub_account111" id="sub_account111">
                                    <label for="">Make this a sub-account</label>
                                </div>
                            </div>
                        </div>
                        
                        <div id="sub_div222" style="display: none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for=""></label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="checkbox" class=" text-dark bg-light" onclick="show_parent222()"
                                        name="sub_account222" id="sub_account222">
                                    <label for="">Make this a sub-account</label>
                                </div>
                            </div>
                        </div>


                        <div id="parent_div" style="display: none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for="">Parent Account:</label>
                                </div>
                                <div class="col-sm-8">
                        
                                    <select class="form-control text-dark bg-light" style="width: 70%;" name="parent_account" id="parent_account">
                                        <option value="" class="bg-dark text-light text-center"  disabled>Other Current
                                            Assets
                                        </option>
                                        <option value="" selected></option>
                                        <option value="Advance Tax">Advance Tax</option>
                                        <option value="Employee Advance">Employee Advance</option>
                                        <option value="Prepaid Expenses">Prepaid Expenses</option>
                                        <option value="GST TCS Receivable">GST TCS Receivable</option>
                                        <option value="GST TDS Receivable">GST TCS Receivable</option>
                                        <option value="Input Tax Credits">Input Tax Credits</option>
                                        <option value="Input CGST">&nbsp; &nbsp;&nbsp;Input CGST</option>
                                        <option value="Input IGST"> &nbsp; &nbsp;&nbsp;Input IGST</option>
                                        <option value="Input SGST">&nbsp; &nbsp;&nbsp;Input SGST</option>
                        
                        
                                        <option value="Reverse Charge Tax Input but no due">Reverse Charge Tax Input but no
                                            due
                                        </option>
                                        <option value="Sales to Customers(Cash)">Sales to Customers(Cash)</option>
                        
                        
                                        <option value="TDS Receivable">TDS Receivable</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        
                        <div id="parent_div22" style="display: none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for="">Parent Account:</label>
                                </div>
                                <div class="col-sm-8">
                        
                                    <select class="form-control text-dark bg-light" style="width: 70%;" name="parent_account22"
                                        id="parent_account22">
                                        <option value="" class="bg-dark text-light text-center" disabled>Cash</option>
                                        <option value="" class="bg-dark text-light text-center" selected></option>
                        
                                        <option value="Petty Cash">Petty Cash</option>
                                        <option value="Undeposited Fund">Undeposited Fund</option>
                                        <option value="Cash Account">Cash Account</option>
                        
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div id="parent_div33" style="display:none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for="">Parent Account:</label>
                                </div>
                                <div class="col-sm-8">
                        
                                    <select class="form-control text-dark bg-light" style="width: 70%;" name="parent_account33"
                                        id="parent_account33">
                                        <option value="" class="bg-dark text-light text-center" disabled>Fixed Asset
                                        </option>
                                        <option value="" class="bg-dark text-light text-center" selected></option>
                        
                                        <option value="Furniture and Equipment">Furniture and Equipment</option>
                        
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        
                        
                        <div id="parent_div44" style="display:none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for="">Parent Account:</label>
                                </div>
                                <div class="col-sm-8">
                        
                                    <select class="form-control text-dark bg-light" style="width: 70%;" name="parent_account44"
                                        id="parent_account44">
                                        <option value="" class="bg-dark text-light text-center" disabled>Stock</option>
                                        <option value="" class="bg-dark text-light text-center" selected></option>
                        
                                        <option value="Inventory Asset">Inventory Asset</option>
                        
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        
                        <div id="parent_div55" style="display: none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for="">Parent Account:</label>
                                </div>
                                <div class="col-sm-8">
                        
                                    <select class="form-control text-dark bg-light" style="width: 70%;" name="parent_account55"
                                        id="parent_account55">
                                        <option value="" class="bg-dark text-light text-center" disabled>Other Current
                                            Liability
                                        </option>
                                        <option value="" class="bg-dark text-light text-center" selected></option>
                        
                                        <option value="Employee Reimbursements">Employee Reimbursements</option>
                                        <option value="Opening Balance Adjustments">Opening Balance Adjustments</option>
                                        <option value="Tax Payable">Tax Payable</option>
                                        <option value="Unearned Revenue">Unearned Revenue</option>
                                        <option value="GST Payable">GST Payable</option>
                                        <option value="Output CGST">&nbsp;&nbsp;&nbsp;Output CGST</option>
                                        <option value="Output IGST">&nbsp;&nbsp;&nbsp;Output IGST</option>
                                        <option value="Output SGST">&nbsp;&nbsp;&nbsp;Output SGST</option>
                                        <option value="TDS Payable">TDS Payable</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        
                        <div id="parent_div66" style="display: none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for="">Parent Account:</label>
                                </div>
                                <div class="col-sm-8">
                                    <select class="form-control text-dark bg-light" style="width: 70%;" name="parent_account66"
                                        id="parent_account66">
                                        <option value="" class="bg-dark text-light text-center" disabled>Long Term Liability
                                        </option>
                                        <option value="" selected></option>
                                        <option value="Construction Loans">Construction Loans</option>
                                        <option value="Mortgages">Mortgages</option>
                        
                        
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        
                        <div id="parent_div77" style="display: none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for="">Parent Account:</label>
                                </div>
                                <div class="col-sm-8">
                                    <select class="form-control text-dark bg-light" style="width: 70%;" name="parent_account77"
                                        id="parent_account77">
                                        <option value="" class="bg-dark text-light text-center" disabled>Other Liability
                                        </option>
                                        <option value="" selected></option>
                                        <option value="Tag Adjustments">Tag Adjustments</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        
                        <div id="parent_div88" style="display: none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for="">Parent Account:</label>
                                </div>
                                <div class="col-sm-8">
                        
                                    <select class="form-control text-dark bg-light" style="width: 70%;" name="parent_account88"
                                        id="parent_account88">
                                        <option value="" class="bg-dark text-light text-center" disabled>Equity</option>
                                        <option value="" selected></option>
                                        <option value="Drawings">Drawings</option>
                                        <option value="Opening Balance Offset">Opening Balance Offset</option>
                                        <option value="Owner's Equity">Owner's Equity</option>
                                        <option value="Retained Earnings">Retained Earnings</option>
                                        <option value="Capital Stock">Capital Stock</option>
                                        <option value="Distributions">Distributions</option>
                                        <option value="Dividends Paid">Dividends Paid</option>
                                        <option value="Investments">Investments</option>
                        
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        
                        <div id="parent_div99" style="display: none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for="">Parent Account:</label>
                                </div>
                                <div class="col-sm-8">
                                    <select class="form-control text-dark bg-light" style="width: 70%;" name="parent_account99"
                                        id="parent_account99">
                                        <option value="" class="bg-dark text-light text-center" disabled>Income</option>
                                        <option value="" selected></option>
                                        <option value="Discount">Discount</option>
                                        <option value="General Income">General Income</option>
                                        <option value="Interest Income">Interest Income</option>
                                        <option value="Late Fee Income">Late Fee Income</option>
                                        <option value="Other Charges">Other Charges</option>
                                        <option value="sales">sales</option>
                                        <option value="Shipping Charge">Shipping Charge</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        
                        
                        <div id="parent_div100" style="display: none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for="">Parent Account:</label>
                                </div>
                                <div class="col-sm-8">
                                    <select class="form-control text-dark bg-light" style="width: 70%;" name="parent_account100"
                                        id="parent_account100">
                                        <option value="" class="bg-dark text-light text-center" disabled>Expense</option>
                                        <option value="" selected></option>
                                        <option value="Discount">Discount</option>
                                        <option value="Advertising and Marketing">Advertising and Marketing</option>
                                        <option value="Automobile Expense">Automobile Expense</option>
                                        <option value="Bad Debt">Bad Debt</option>
                                        <option value="Bank Fees and Charges">Bank Fees and Charges</option>
                                        <option value="Consultant Expense">Consultant Expense</option>
                                        <option value="Credit Card Charges">Credit Card Charges</option>
                                        <option value="Depreciation Expense">Depreciation Expense</option>
                                        <option value="IT and Internet Expenses">IT and Internet Expenses</option>
                                        <option value="Ganitorial Expense">Ganitorial Expense</option>
                                        <option value="Lodging">Lodging</option>
                                        <option value="Meals and Entertainment">Meals and Entertainment</option>
                                        <option value="Office Supplies">Office Supplies</option>
                                        <option value="Other Expenses">Other Expenses</option>
                                        <option value="Postage">Postage</option>
                                        <option value="Printing and Stationery">Printing and Stationery</option>
                                        <option value="Rent Expense">Rent Expense</option>
                                        <option value="Repairs and Maintenance">Repairs and Maintenance</option>
                                        <option value="Salaries and Employee Wages">Salaries and Employee Wages</option>
                                        <option value="Telephone Expense">Telephone Expense</option>
                                        <option value="Travel Expense">Travel Expense</option>
                                        <option value="Uncategorized">Uncategorized</option>
                                        <option value="Contract Assets">Contract Assets</option>
                                        <option value="Depreciation And Amortisation">Depreciation And Amortisation</option>
                                        <option value="Merchandise">Merchandise</option>
                                        <option value="Raw Materials And Consumables">Raw Materials And Consumables</option>
                                        <option value="Transportation Expense">Uncategorized</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        
                        
                        <div id="parent_div111" style="display: none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for="">Parent Account:</label>
                                </div>
                                <div class="col-sm-8">
                        
                                    <select class="form-control text-dark bg-light" style="width: 70%;" name="parent_account111"
                                        id="parent_account111">
                                        <option value="" class="bg-dark text-light text-center" disabled>Cost Of Goods Sold
                                        </option>
                                        <option value="" selected></option>
                                        <option value="Cost Of Goods Sold">Cost Of Goods Sold</option>
                                        <option value="Job Costing">Job Costing</option>
                                        <option value="Labor">Labor</option>
                                        <option value="Materials">Materials</option>
                                        <option value="Subcontractor">Subcontractor</option>
                        
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        
                        <div id="parent_div222" style="display: none;">
                            <div class="row mt-3">
                                <div class="col-sm-4">
                                    <label for="">Parent Account:</label>
                                </div>
                                <div class="col-sm-8">
                        
                                    <select class="form-control text-dark bg-light" style="width: 70%;" name="parent_account222"
                                        id="parent_account222">
                                        <option value="" class="bg-dark text-light text-center" disabled>Other Expense
                                        </option>
                                        <option value="" selected></option>
                                        <option value="Cost Of Goods Sold">Exchange Gain or Loss</option>
                        
                                    </select>
                                </div>
                            </div>
                        </div>
          
          
          
                          <div class="row mt-3">
                              <div class="col-sm-4">
                                  <label for="">Account Code:</label>
                              </div>
                              <div class="col-sm-8">
                                  <input type="text" class="form-control text-dark bg-light" name="account_code"
                                      id="account_code" style="width: 100%;">
                              </div>
                          </div>
                          <div style="display: none;" id="acc_bo_div">
                              <div class="row mt-3">
                                  <div class="col-sm-4">
                                      <label for="">Account Number:</label>
                                  </div>
                                  <div class="col-sm-8">
                                      <input type="text" class="form-control text-dark bg-light" name="account_number"
                                          id="account_number" style="width: 100%;">
                                  </div>
                              </div>
                          </div>
          
                          <div style="display: none;" id="cr_div">
                              <div class="row mt-3">
                                  <div class="col-sm-4">
                                      <label for="">Currency:</label>
                                  </div>
                                  <div class="col-sm-8">
                                      <input type="text" class="form-control text-dark bg-light" name="currency" id="currency" style="width: 100%;">
                                  </div>
                              </div>
                          </div>
                          <div class="row mt-3">
                              <div class="col-sm-4">
                                  <label for="">Description:</label>
                              </div>
                              <div class="col-sm-8">
                                  <textarea name="description" class="form-control text-dark bg-light" id="description"
                                      placeholder="Max. 500 characters" style="width: 100%;"></textarea>
                              </div>
                          </div>
          
                      </div>
          
                      <div class="col-sm">
                          <div class="alert alert-warning alert-dismissible fade show" style="width: 50%;" >
                              <span id="message_hd" style="color: #000000;">Assets</span> <br>
                              <span id="message" style="color: #000000;">Track special assets like goodwill and other intangible assets</span>
                              <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                          </div>
                      </div>
                  </div>
                  <div class="row mt-5">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="d-flex justify-content-center">
                        <button class="btn save_btn rounded-pill text-grey w-25 my-1 mx-1 btn-outline-warning" type="button" id="newAccountSave">Save</button>
                        <button type="button" class="close btn save_btn rounded-pill text-grey w-25 my-1 mx-1 btn-outline-warning close_account_modal" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Cancel</span></button>
                    </div>
                    </div>
                </div>
        </div>
      </div>
    </div>
  </div>
</div>





<!----------------------------------END-->



  
  
  
  
                         
  
  
  



                 
                 
                         
  
  
                      <script>
                        $(document).on("click", "#newCustomerSave", function(){
                            var formData = new FormData(document.getElementById('myForm'));
                        
                            $.ajax({
                                type: "POST",
                                url: "{% url 'challannewSalesCustomerAjax' %}",
                                data: formData,
                                processData: false,
                                contentType: false,
                                headers: {
                                    "X-CSRFToken": "{{ csrf_token }}"
                                },
                                success: function(response) {
                                    if (response.status === 'success') {
                                        alert('Customer added successfully!');
                                        document.getElementById("myForm").reset();
                                        $("#img").attr("src", "");
                                        $('#addEmployeeModal').modal('hide');
                        
                                        reloadItem();
                                    } else if (response.status === 'error') {
                                        if (response.message === 'empnum_exists') {
                                            alert('Customer with this number already exists!');
                                        } else {
                                            alert('Error adding customer: ' + response.message);
                                        }
                                    } else {
                                        alert('Unknown response status. Please try again.');
                                    }
                                },
                                error: function(xhr, status, error) {
                                    console.error(xhr.responseText);
                                    alert('Error adding customer. Please try again.');
                                }
                            });
                        });
                        
                        function reloadItem() {
                            $.ajax({
                                url: "{% url 'challangetCustomersAjax' %}",
                                type: "GET",
                                dataType: "json",
                                success: function(data) {
                                    var dropdown = $('#customerName');
                                    dropdown.empty();
                        
                                    $.each(data, function(key, value) {
                                        dropdown.append($('<option></option>').attr('value', key).text(value));
                                    });
                                    dropdown.css({
                                        'font-size': '16px',
                                        'color': 'white',
                                        // You can set the background color here
                                    });
                                },
                                error: function(xhr, status, error) {
                                    console.error(xhr.responseText);
                                    alert('Error reloading dropdown options.');
                                }
                            });
                        }
                        </script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" ></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" ></script>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    function deleteContact(button) {
        var row = button.parentNode.parentNode;
        row.parentNode.removeChild(row);
    }

    document.querySelector('.add_another').addEventListener('click', function() {
        var table = document.getElementById('tbl').getElementsByTagName('tbody')[1];
        var newRow = table.insertRow(table.rows.length);

        for (var i = 1; i < 9; i++) {
            var cell = newRow.insertCell(i);
            cell.innerHTML = '<input type="text" class="form-control border-1 bg-transparent text-white" name="dynamic[]">';
        }

        var deleteCell = newRow.insertCell(9);
        deleteCell.innerHTML = '<button type="button" class="btn btn-danger" onclick="deleteContact(this)">Delete</button>';
    });
</script>

<!-- jQuery script to compare values and show alert -->
<script>
   

    $(document).ready(function() {
    // Attach event listener to input fields
    $('#opa, #cl').on('input', function() {
        // Get values of the input fields
        var openingBal = parseFloat($('#opa').val());
        var creditLimit = parseFloat($('#cl').val());

        // Check if credit limit is greater than opening balance amount
        if (creditLimit > openingBal) {
            // Show custom alert
            $('#custom-alert').fadeIn();

            // Clear the value of #cl
            $('#cl').val('');
        }
    });

    // Close custom alert when close button is clicked
    $('.close-btn').on('click', function() {
        $('#custom-alert').fadeOut();
    });
});
</script>

<script>

    $(document).ready(function(){

    // Get the CSRF token from the cookie
        function getCookie(name) {
        var cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            var cookies = document.cookie.split(';');
            for (var i = 0; i < cookies.length; i++) {
                var cookie = cookies[i].trim();
                // Does this cookie string begin with the name we want?
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
        }
        var csrftoken = getCookie('csrftoken');

        // Pan Number Check

        $('#panInput').on('input', function(){
        var panNumber = $(this).val();
        var regex = /[A-Z]{5}[0-9]{4}[A-Z]{1}$/;
        if(regex.test(panNumber)) {
            $('#panMessage').text('PAN number is valid.').css('color', 'green');
            // PAN number is valid, call AJAX to check if it exists
            $.ajax({
            url: "{% url 'customer_check_pan' %}",
            headers: {'X-CSRFToken': csrftoken}, 
            type: 'POST',
            data: {panNumber: panNumber},
            success: function(response) {
                if (response.status == 'exists') {
                    $('#panMessage').text('PAN number already exists.').css({
                        'color': 'red',
                        'font-size': '12px'
                    });
                    
                }
            }
            });
        } else {
            $('#panMessage').text('Please enter a valid PAN number.').css({
                'color': 'red',
                'font-size': '12px'
            });
        }
        });

        // Pna Number Check End 


        // GST Number Check 

        $('#gstInput').on('input', function(){
            var gstNumber = $(this).val();
            var regex = /^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/;
            if(regex.test(gstNumber)) {
                $('#gstMessage').text('GST number is valid.').css('color', 'green');
                // GST number is valid, call AJAX to check if it exists
                $.ajax({
                    url: "{% url 'challan_customer_check_gst' %}",
                    headers: {'X-CSRFToken': csrftoken}, 
                    type: 'POST',
                    data: {gstNumber: gstNumber},
                    success: function(response) {
                        if (response.status == 'exists') {
                            $('#gstMessage').text('GST number already exists.').css({
                                'color': 'red',
                                'font-size': '12px'
                            });
                            
                        }
                    }
                    });
            } 
            else {
                $('#gstMessage').text('Please enter a valid GST number.').css({
                    'color': 'red',
                    'font-size': '12px'
                });
            }
            });
    
        // GST Number Check End 

    });

      // Name display 

        
      const Title = document.getElementById('select1');
const fname = document.getElementById('fname');
const laname = document.getElementById('lname');
const vDisplayName = document.getElementById('v_display_name');

// Listen for input events on the initial input fields
Title.addEventListener('input', updateOutputFields);
fname.addEventListener('input', updateOutputFields);
laname.addEventListener('input', updateOutputFields);

// Function to update the output fields
function updateOutputFields() {
    const selectedTitle = Title.value;
    const selectedFname = fname.value;
    const selectedLname = laname.value;

    // Clear existing options
    vDisplayName.innerHTML = '';
 // Add new options based on input field values
 const option1 = document.createElement('option');
    option1.text = selectedTitle + ' ' + selectedFname + ' ' + selectedLname;
    vDisplayName.add(option1);

   

    const option2 = document.createElement('option');
    option2.text = selectedFname + ' ' + selectedLname;
    vDisplayName.add(option2);

    const option3 = document.createElement('option');
    option3.text = selectedLname + ' ' + selectedFname;
    vDisplayName.add(option3);
}

</script>






<script>
    function gstPan_function(){
        var x=document.getElementById('GSTT').value
        if(x=="Unregistered Business-not Registered under GST")
        {
            document.getElementById("pan").style.display="block";
            document.getElementById("gst").style.display="none";

            
        }
        else if((x=="Registered Business-Regular Business that is registered under GST") || (x=="Registered Business-Composition Business that is registered under the Composition scheme in GST") || (x=="Overseas- Persons with who you do import or exports of supplies outside india") || (x=="Special Economic Zone"))
        {
            document.getElementById("gst").style.display="block";
            document.getElementById("pan").style.display="block";


        }
    
    }
  


    $(document).ready(function () {
        $(".toggle1").click(function (e) {
          e.preventDefault();
          $("fieldset1").toggle();
        })
      })
      $(document).ready(function () {
        $(".toggle2").click(function (e) {
          e.preventDefault();
         
          $("fieldset2").toggle(); 
          $("fieldset5").hide();
          $("fieldset6").hide();
          $("fieldset7").hide();


      
        })
      })

      $(document).ready(function () {
        $(".toggle3").click(function (e) {
          e.preventDefault();
          $("fieldset5").toggle();
          $("fieldset2").hide();
          $("fieldset6").hide();
          $("fieldset7").hide();

        })
      })
      $(document).ready(function () {
        $(".toggle4").click(function (e) {
          e.preventDefault();
          $("fieldset6").toggle();
          $("fieldset2").hide();
          $("fieldset5").hide();
          $("fieldset7").hide();
                
        })
      })
      $(document).ready(function () {
        $(".toggle7").click(function (e) {
          e.preventDefault();
          $("fieldset7").toggle();
          $("fieldset2").hide();
          $("fieldset6").hide();
          $("fieldset5").hide();
         

         
        })
      })

 
 
    $('document').ready(function () {
        $('.add_another').click(function () {
          $("#tbl").append(`<tr>
            <td>
                <select name="salutation[]" id="PLACE" class="form-control bg-transparent border-1 text-white">
                    <option value="Mr" class="text-dark" selected>Mr.</option>
                    <option class="text-dark" value=""Mrs">Mrs.</option>
                    <option class="text-dark" value="Ms">Ms.</option>
                    <option class="text-dark" value="Miss">Miss.</option>
                    <option class="text-dark" value="Dr">Dr.</option>
                </select>  
            </td>
            <td>
                <input type="text" name="first_name[]" class="form-control border-1 bg-transparent text-white"  value="" />
            </td>
            <td>
                <input type="text" name="last_name[]" class="form-control border-1 bg-transparent text-white"   value="" />
            </td>
            <td>
                <input type="email" name="email[]" class="form-control border-1 bg-transparent text-white" value="" />
            </td>
            <td>
                <input type="tel" pattern="[0-9]{7}" id="twphone" name="wphone[]" class="form-control border-1 bg-transparent text-white"  value="" />
            </td>
            <td>
                <input type="tel" pattern="[0-9]{10}" id="tmobile" onclick="sample1()" name="mobile[]" class="form-control border-1 bg-transparent text-white"  value="" />
            </td>
            <td>
                <input type="number" onclick="sample()" name="skype[]" class="form-control border-1 bg-transparent text-white"  value="" />
            </td>
            <td>
                <input type="text" name="designation[]" class="form-control border-1 bg-transparent text-white" value="" />
            </td>
            <td>
                <input type="text" name="department[]" class="form-control border-1 bg-transparent text-white" value="" />
            </td>
            <td><button type="button" class="btn btn-danger" onclick="deleteContact(this)">Delete</button></td>
        </tr>`);
        });
      })

      function fieldset5_function()
      {
        document.getElementById("address").style.display="block";
      }

    

    function myCopyAddressFunction() {
        var checkBox = document.getElementById("myCheckT");
        var textatn = document.getElementById("batten");
        var txtcry = document.getElementById("bctry");
        var txtadrs11 = document.getElementById("badd1");
        var txtcty = document.getElementById("bcty");
        var txtstat = document.getElementById("bste");
        var txtzip = document.getElementById("bzp");
        var txtphone = document.getElementById("bphone_num");
        var txtfx = document.getElementById("bfx");
  
        var textatn1 = document.getElementById("satten");
        var txtcry1 = document.getElementById("sctry");
        var txtadrs21 = document.getElementById("sadd1");
        var txtcty1 = document.getElementById("scty");
        var txtstat1 = document.getElementById("sste");
        var txtzip1 = document.getElementById("szp");
        var txtphone1 = document.getElementById("sphone_num");
        var txtfx1 = document.getElementById("sfx");
        if (checkBox.checked == true) {
          textatn1.value = textatn.value;
          txtadrs21.value = txtadrs11.value;
          txtcty1.value = txtcty.value;
          txtstat1.value = txtstat.value;
          txtzip1.value = txtzip.value; 
          txtphone1.value = txtphone.value;
          txtfx1.value = txtfx.value;
          



          
  
        } else {
          txtadrs21.value = "";
          txtcty1.value = "";
          txtstat1.value = "";
          txtzip1.value = "";
          txtphone1.value = "";
          txtfx1.value = "";
          txtcry1.value = "";
          textatn1.value = "";

  
        }
      }


      function open_table()
      {
        document.getElementById("hid").style.display="block";
        
      }



    

      function bphone_number()
      {
        var a1=document.getElementById("bphone_num").value;
        var b1=document.getElementById("bphone_label");
        var expr=/^[0-9]{10}$/;
        if (!expr.test(a1)) {
            b1.style.color="red";
            b1.style.fontSize="0.750rem";
            b1.innerHTML = "Invalid Phone Number. Please Enter 10 digit Number";
        }
        else{
            b1.style.color="green";
            b1.style.fontSize="0.750rem";
            b1.innerHTML = "Valid Phone Number.";

        }
      }

      function sphone_number()
      {
        var a1=document.getElementById("sphone_num").value;
        var b1=document.getElementById("sphone_label");
        var expr=/^[0-9]{10}$/;
        if (!expr.test(a1)) {
            b1.style.color="red";
            b1.style.fontSize="0.750rem";
            b1.innerHTML = "Invalid Phone Number.";
        }
        else{
            b1.style.color="green";
            b1.style.fontSize="0.750rem";
            b1.innerHTML = "Valid Phone Number.";

        }
      }

      function fax_number()
      {
        var a1=document.getElementById("bfx").value;
        var b1=document.getElementById("fax_label");
        var expr=/^[0-9]{7}$/;
        if (!expr.test(a1)) {
            b1.style.color="red";
            b1.style.fontSize="0.750rem";
            b1.innerHTML = "Invalid Fax Number.Please Enter 7 digit Number";
        }
        else{
            b1.style.color="green";
            b1.style.fontSize="0.750rem";
            b1.innerHTML = "Valid Fax Number.";

        }
      }

      function sfax_number()
      {
        var a1=document.getElementById("sfx").value;
        var b1=document.getElementById("sfax_label");
        var expr=/^[0-9]{7}$/;
        if (!expr.test(a1)) {
            b1.style.color="red";
            b1.style.fontSize="0.750rem";
            b1.innerHTML = "Invalid Fax Number.";
        }
        else{
            b1.style.color="green";
            b1.style.fontSize="0.750rem";
            b1.innerHTML = "Valid Fax Number.";

        }
      }

    
      function sample()
      {

        var tbldata = document.getElementById("tbl");
        var total_rows = tbldata.rows.length;
        x=document.getElementById("tbl");
        var a1=x.rows[total_rows-1].cells[5].getElementsByTagName('input')[0].value;

        var b1=document.getElementById("tlabel");

        b1.innerHTML = "";

        var expr=/^[0-9]{10}$/;
        if (!expr.test(a1)) {
            b1.style.color="red";
            b1.innerHTML = "Invalid";
            b1.style.fontSize="0.750rem";
        }
        else{
            b1.style.color="green";
            b1.innerHTML = "Valid";
            b1.style.fontSize="0.750rem";

        }

       

      }

      function sample1()
      {

        var tbldata = document.getElementById("tbl");
        var total_rows = tbldata.rows.length;
        x=document.getElementById("tbl");
        var a1=x.rows[total_rows-1].cells[4].getElementsByTagName('input')[0].value;

        var b1=document.getElementById("twph_label");

        b1.innerHTML = "";

        var expr=/^[0-9]{7}$/;
        if (!expr.test(a1)) {
            b1.style.color="red";
            b1.innerHTML = "Invalid";
            b1.style.fontSize="0.750rem";
        }
        else{
            b1.style.color="green";
            b1.innerHTML = "valid";
            b1.style.fontSize="0.750rem";

        }


      }


</script>

<script type="text/javascript">
    function vendor_display()
    {
        var x=document.getElementById("select1").value;
        var y=document.getElementById("fname").value;
        var z=document.getElementById("lname").value;

        document.getElementById("select2").innerHTML=x+" "+y+" "+z
    
        
    }
</script>
<!---------------------------------------------------
<script>
    var shouldClosePaymentModal = false; 
    
    function addterm() {
        var formData = new FormData(document.getElementById('modalpayment_terms')); 

        $.ajax({
            type: 'POST',
            url: "{% url 'challan_customer_payment_terms_add' %}",
            data: {
                name: $("#tname").val(),
                days: $("#tdays").val(),
                csrfmiddlewaretoken: '{{ csrf_token }}'
            },
            success: function (response) {
                $("#tname").val('');
                $("#tdays").val('');
                var paytearmSelect = $('#paytearm-select');
                paytearmSelect.empty(); 

                paytearmSelect.append('<option value="Due on Receipt" selected>Due on Receipt</option>');

                $.each(response.payment_list, function (index, pay_terms) {
                    paytearmSelect.append('<option value="' + pay_terms.id + '">' + pay_terms.name + '</option>');
                });

                shouldClosePaymentModal = true;

                $('#newpayment').modal('hide');
            },
        });
    }

    
    $('#newpayment').on('click', function (event) {
        event.stopPropagation();
    });
</script>
<!--------------------------------------------------------->

<script>
    

    async function termadd() {
        try {
            const response = await $.ajax({
                type: 'POST',
                url: "{% url 'challan_customer_payment_terms_add' %}",
                data: {
                    name: $("#tname").val(),
                    days: $("#tdays").val(),
                    csrfmiddlewaretoken: '{{ csrf_token }}'
                }
            });

            // Handle success response
            $("#tname").val('');
            $("#tdays").val('');
            var paytearmSelect = $('#paytearm-select'); 
            paytearmSelect.empty();  
            paytearmSelect.append('<option value="Due on Receipt" selected>Due on Receipt</option>');
            $.each(response.payment_list, function(index, pay_terms) {
                paytearmSelect.append('<option value="' + pay_terms.id + '">' + pay_terms.name + '</option>');
            });
            
            // Close the inner modal manually
            $('#newpayment').modal('hide');
            
        } catch (error) {
            // Handle error
            console.error("Error:", error);
        }
    }

    document.getElementById('newpayment').addEventListener('click', function (event) {
            event.stopPropagation();
    })

    
</script>






















<script>
    // Get the input element
    const inputElement = document.getElementById("tname");

    // Add event listener for input event
    inputElement.addEventListener("input", function() {
        // Convert the input value to uppercase
        this.value = this.value.toUpperCase();
    });
</script>

<script>

$(document).ready(function() {
    $('#tname').on('input', function() {
        
        var termName = $(this).val();
       
        $.ajax({
            type: 'GET',
            url:'{% url "challan_check_customer_term_exist" %}',
            data: {
                term_name: termName
            },
            success: function(response) {
                if (response.exists) {
                    $('#message-id').text('Term already exists !');
                    $('#success-message-id').text('');
                  
                    $('#tname').val('');
                } else {
                    $('#success-message-id').text('Term name available !');
                    $('#message-id').text('');
                }
                
            },
            error: function(xhr, status, error) {
                console.error('Error:', error);
            }
        });
    });
});

$('#vendor-email').on('input', function() {
        
    var vendorEmail = $(this).val();
    console.log(vendorEmail)
    $.ajax({
        type: 'GET',
        url:'{% url "challan_check_customer_email_exist" %}',
        data: {
            vendor_email: vendorEmail
        },
        success: function(response) {
            if (response.exists) {
                $('#email-message-id').text('Email id already exists !');
                $('#vendor-email').val('');
            }
            else{
                $('#email-message-id').text('');
            }
            
        },
        error: function(xhr, status, error) {
            console.error('Error:', error);
        }
    });
});

$('#workphone').on('input', function() {
        
    var wPhone = $(this).val();
    
    $.ajax({
        type: 'GET',
        url:'{% url "challan_check_customer_work_phone_exist" %}',
        data: {
            w_Phone: wPhone
        },
        success: function(response) {
            if (response.exists) {
                $('#workphone_label').text('Work phone number already exists !');
                $('#workphone').val('');
            }
            else{
                $('#workphone_label').text('');
            }
            
        },
        error: function(xhr, status, error) {
            console.error('Error:', error);
        }
    });
});


$('#mphone').on('input', function() {
        
    var mPhone = $(this).val();
    
    $.ajax({
        type: 'GET',
        url:'{% url "challan_check_customer_phonenumber_exist" %}',
        data: {
            m_Phone: mPhone
        },
        success: function(response) {
            if (response.exists) {
                $('#mphone_label').text('Phone number already exists !');
                $('#mphone').val('');
            }
            else{
                $('#mphone_label').text('');
            }
            
        },
        error: function(xhr, status, error) {
            console.error('Error:', error);
        }
    });
});

</script>



<script>
    // Work Phone Number Validation 
    $(document).ready(function () {
        $('#workphone').on('input', function () {
            var inputVal = $(this).val();
            var expr = /^[0-9]{7}$/;
            if (expr.test(inputVal)) {
                $('#work-phone-message').text('Valid work phone number').css('color', 'green');
            } else {
                $('#work-phone-message').text('Invalid work phone number').css('color', 'red');
            }
        });
    });

    // Phone Number Validation
    $(document).ready(function () {
        $('#mphone').on('input', function () {
            var inputVal = $(this).val();
            var expr=/^[0-9]{10}$/;
            if (expr.test(inputVal)) {
                $('#phone-message').text('Valid  phone number').css('color', 'green');
            } else {
                $('#phone-message').text('Invalid  phone number').css('color', 'red');
            }
        });
    });
</script>


<!------------customer end-------------------------------------------------->





<script>
 document.getElementById('customerName').addEventListener('change', function() {
    var customerId = this.value;
    console.log('Selected Customer ID:', customerId);
    if (customerId) {
        fetchCustomerData(customerId);
    } else {
        clearCustomerInfo();
    }
});
  function fetchCustomerData(customerId) {
      $.ajax({
          url: '/challan_get_customer_data/' + customerId + '/',
          type: 'GET',
          success: function(data) {
              document.getElementById('customerEmail').value = data.email;
              document.getElementById('billingAddress').value = data.billing_address;
              document.getElementById('gstTreatment').value = data.gsttype;
              document.getElementById('placeOfSupply').value = data.place;
              var gstNumberLabel = document.getElementById('gstNumberLabel');
              if (data.gsttype === 'Unregistered Business-not Registered under GST') {
                  document.getElementById('gstNumber').style.display = 'none';
                  gstNumberLabel.style.display = 'none'; 
              } else {
                  document.getElementById('gstNumber').value = data.gstnumber;
                  document.getElementById('gstNumber').style.display = 'block';
                  gstNumberLabel.style.display = 'block'; 
              }
          },
          error: function(xhr, status, error) {
              console.error('Error fetching customer data:', error);
          }
      });
  }
  
  function clearCustomerInfo() {
      
      document.getElementById('customerEmail').value = '';
      document.getElementById('billingAddress').value = '';
      
  }
  </script>

<script>



    document.getElementById('item').addEventListener('change', function() {
        var itemId = this.value;
    
        if (itemId) {
            fetchitemData(itemId);
        } else {
            clearitemInfo();
        }
    });
   
    document.getElementById('quantity').addEventListener('input', function() {
        var quantity = parseFloat(this.value);
        var itemId = document.getElementById('item').value;
    
        if (quantity >= 0 && itemId) {
            fetchitemData(itemId);
            updateavailableStock(data.stock,data.track)
            calculateTaxes(data)
        } else {
            clearStock();
        }
    });
  
    $(document).ready(function () {
      $('.item-select').select2({
          placeholder: 'Select Product',
          width: '71%',
      });
  
      $('.item-select').on('change', function() {
          var itemId = $(this).val();
          if (itemId) {
              fetchitemData(itemId);
          } else {
              clearitemInfo();
          }
      });
  });
    
    function fetchitemData(itemId) {
      $.ajax({
          url: '/challan_get_item_data/' + itemId + '/',
          type: 'GET',
          success: function(data) {
              console.log('Received item data:', data);
              document.getElementById('hsn').value = data.hsn;
              document.getElementById('rate').value = data.rate;
  
              updateTaxCalculation(data);
              calculateTaxes(data)
              if (data.track === 1) {
                updateavailableStock(data.stock, data.track); 
            }
              calculateTaxes(data)
              
  
              $('.item-select').select2('close');
          },
      });
  
     
  }
  
  
  function updateTaxCalculation(data) {
      var placeOfSupply = document.getElementById('placeOfSupply').value;
      var taxType = 'GST';
  
      if (placeOfSupply !== data.company_state) {
          taxType = 'IGST';
      }
  
      var taxRate = (taxType === 'GST') ? data.intratax : data.intertax;
      document.getElementById('tax').value = taxRate;
  }
  
  // Add event listener for placeOfSupply input field
  document.getElementById('placeOfSupply').addEventListener('change', function() {
      // Call updateTaxCalculation function to update tax calculation when placeOfSupply value changes
      var itemId = document.getElementById('item').value;
      if (itemId) {
          fetchitemData(itemId);
      }
  });
  
  function updateavailableStock(stock, track) { // Accept data as a parameter
   
      var quantity = parseFloat(document.getElementById('quantity').value);
      
      console.log(track)
      var availbalestock = stock-quantity
      
      if (track == 1) {
        document.getElementById('availableStock').innerText = 'Available Stock: ' + availbalestock;
    document.getElementById('availableStock').style.display = 'inline';
   
} else {
    document.getElementById('availableStock').innerText = '';
    document.getElementById('availableStock').style.display = 'none';
}
      if (quantity > stock) {
        alert("Quantity entered is greater than available stock.");
    }
      
      var rate = parseFloat(data.rate);
      var discount = parseFloat(document.getElementById('discount').value);
      if (discount === '' ) {
        discount = 0; 
    } else {
        discount = parseFloat(discount); 
    }
     
      var amount = (quantity * rate) - discount;
      // Set amount to calculated value or '0.00' if NaN or not finite
      var amountDisplay = isNaN(amount) || !isFinite(amount) ? '' : amount.toFixed(2);
      
      // Get NodeList of elements with class 'item-amount'
      var itemAmountElements = document.querySelectorAll('.item-amount');
      
      // Loop through each element and set its value
      itemAmountElements.forEach(function(element) {
          element.value = amountDisplay;
      });
      
     
  }
  
      
  
      
    
  
      
     
      
  
  
  
    function clearitemInfo() {
        document.getElementById('hsn').value = '';
        document.getElementById('rate').value = '';
        document.getElementById('tax').value = '';
    }
    
    function clearStock() {
        var stockLabel = document.getElementById('availableStock');
        stockLabel.textContent = ''; 
    }
  
   
     
   
  
  </script>
<script>
  function addRow() {
    var table = document.getElementById("itemTable").getElementsByTagName('tbody')[0];
    var newRow = table.insertRow(table.rows.length);
    var index = table.rows.length;
    var row = newRow.insertCell(0);
    var item = newRow.insertCell(1);
    var hsn = newRow.insertCell(2);
    var quantity = newRow.insertCell(3);
    var rate = newRow.insertCell(4);
    var discount = newRow.insertCell(5);
    var tax = newRow.insertCell(6);
    var amount = newRow.insertCell(7);
    var action = newRow.insertCell(8);
    row.innerHTML = index;

    item.innerHTML = `
        <div style="display: flex; align-items: center;">
            <select name="item" id="item${index}" class="item-select" onchange="fetchItemData(this)" style="flex: 1; width: 250%;color: white;">
                <option value="" selected></option>
                {% for i in item %}
                <option value="{{i.id}}" style="color: white;">{{i.item_name}}</option>
                {% endfor %}
            </select>
          
            <button style="border: 1px solid orange; border-radius: 5px; width: 50px; height: 40px;" onclick="addRow()">+</button>
        </div>
    `;
    
    hsn.innerHTML = '<input type="text" name="hsn" class="item-hsn" style="width: 100%;background-color: black;border: 1px solid white;border-radius: 8px;">';
    quantity.innerHTML = '<input type="number"  class="item-quantity" name="quantity" value="0" class="item-quantity" style="width: 100%;background-color: black;border: 1px solid white;border-radius: 8px;"><label class="availableStock" style="color: orange;"></label>';
    rate.innerHTML = '<input type="number" name="rate" class="item-rate" style="width: 100%;background-color: black;border: 1px solid white;border-radius: 8px;">';
    discount.innerHTML = '<input type="number"  name="discount" class="item-discount" value="0" style="width: 100%;background-color: black;border: 1px solid white;border-radius: 8px;">';
    tax.innerHTML = `
        <select name="tax" class="item-tax" style="width: 100%;">
            <option value="0">0% GST</option>
            <option value="3">3% GST</option>
            <option value="5">5% GST</option>
            <option value="12">12% GST</option>
            <option value="18">18% GST</option>
            <option value="28">28% GST</option>
        </select>
    `;
    amount.innerHTML = '<input type="text"  name="amount" class="item-amount" style="width: 100%;background-color: black;border: 1px solid white;border-radius: 8px;"  oninput="updateSubtotal()">';
    action.innerHTML = `
        <button type="button" style="border: 1px solid orange; border-radius: 5px; width: 50px; height: 40px;" onclick="removeRow(this)">-</button>
        <button type="button" style="border: 1px solid orange; border-radius: 5px; width: 50px; height: 40px;" onclick="cloneRow(this)"><i class="fa fa-clone" aria-hidden="true"></i></button>
    `;

    // Add event listeners for quantity and discount inputs in the new row
    newRow.querySelector('.item-quantity').addEventListener('input', calculateAmount);
    newRow.querySelector('.item-discount').addEventListener('input', calculateAmount);
    updateSubtotal()

    
}

function calculateAmount() {
    var row = this.closest('tr');
    var quantity = parseFloat(row.querySelector('.item-quantity').value);
    var rate = parseFloat(row.querySelector('.item-rate').value);
    var discount = parseFloat(row.querySelector('.item-discount').value);
    if (discount === '' || isNaN(parseFloat(discount))) {
        discount = 0; 
    } else {
        discount = parseFloat(discount); 
    }

    // Calculate the amount
    var amount = (quantity * rate) - discount;

    // Update the amount field in the same row
    var amountField = row.querySelector('.item-amount');
    amountField.value = isNaN(amount) || !isFinite(amount) ? '' : amount.toFixed(2);
    updateSubtotal()
   
    
}
  
function removeRow(button) {
    var row = button.closest('tr');
    var table = row.closest('table');
    if (table.rows.length > 2) {
        var amountField = row.querySelector('.item-amount');
        var taxField = row.querySelector('.item-tax');
        
        var amount = parseFloat(amountField.value) || 0;
        var taxRate = parseFloat(taxField.value) || 0;
        var subtotalField = document.getElementById('subtotal');
        var currentSubtotal = parseFloat(subtotalField.value) || 0;
        var newSubtotal = Math.max(currentSubtotal - amount, 0);
        subtotalField.value = newSubtotal.toFixed(2);
        
        var taxAmountToRemove = (amount * taxRate) / 100;

        // Subtract the tax amount of the removed row from the total tax amount
        var totalTaxAmountField = document.getElementById('taxAmount');
        var currentTotalTaxAmount = parseFloat(totalTaxAmountField.value) || 0;
        var newTotalTaxAmount = Math.max(currentTotalTaxAmount - taxAmountToRemove, 0);
        totalTaxAmountField.value = newTotalTaxAmount.toFixed(2);
        console.log(newTotalTaxAmount)
        

        row.remove();
        updateGSTField(newTotalTaxAmount); // Update GST fields based on new tax amount

        // Recalculate taxes for existing rows
        calculateTaxes(data);

        // Update other totals if needed
        updateAmount();
    } else {
        clearRowContent(row);
    }
}

function updateGSTField(totalTaxAmount) {
    var igst = parseFloat(document.getElementById('igst').value) || 0;
    var sgst = parseFloat(document.getElementById('sgst').value) || 0;
    var cgst = parseFloat(document.getElementById('cgst').value) || 0;

    if (igst > 0) {
        // If IGST is present, update its value
        document.getElementById('igst').value = totalTaxAmount.toFixed(2);
    } else {
        // If IGST is not present, calculate and update CGST and SGST fields
        var halfTaxAmount = totalTaxAmount / 2;
        document.getElementById('cgst').value = halfTaxAmount.toFixed(2);
        document.getElementById('sgst').value = halfTaxAmount.toFixed(2);
    }
}
  

  function clearRowContent(row) {
    var cells = row.cells;
    for (var i = 0; i < cells.length; i++) {
        cells[i].innerHTML = '';
    }
  }
</script>

<script>
   
   

   


   $(document).ready(function () {
    // Function to fetch item data
    function fetchItemData(element) {
        var itemId = $(element).val();
        var row = $(element).closest('tr');

        if (itemId) {
            $.ajax({
                url: '/challan_get_item_data/' + itemId + '/',
                type: 'GET',
                success: function(data) {
                    console.log('Received item data:', data);
                    $(row).find('.item-hsn').val(data.hsn);
                    $(row).find('.item-rate').val(data.rate);
                    $(row).find('.item-tax').val(calculateTax(data));

                    updateAvailableStock(row, data.stock,data.track);
                    calculateTaxes(data);
                },
                error: function(error) {
                    console.error('Error fetching item data:', error);
                }
            });
        } else {
            clearItemInfo(row);
            clearStock(row);
        }
    }

    // Function to calculate tax based on company state
    function calculateTax(data) {
        var placeOfSupply = $('#placeOfSupply').val();
        return (placeOfSupply !== data.company_state) ? data.intertax : data.intratax;
    }

    // Function to update available stock for the row
    function updateAvailableStock(row, stock, track) {
    var quantityInput = $(row).find('.item-quantity');
    var quantity = parseFloat(quantityInput.val());
    var availableStockLabel = $(row).find('.availableStock');

    if (track === 1) {
        if (!isNaN(quantity) && quantity >= 0) {
            var availableStock = Math.max(stock - quantity, 0);
            availableStockLabel.text('Available Stock: ' + availableStock);
            availableStockLabel.css('color', 'orange');
            if (quantity > stock) {
                availableStockLabel.css('color', 'red'); // Insufficient stock
                alert("Quantity entered is greater than available stock.");
            } 
        } else {
            availableStockLabel.text('Available Stock: ' + stock);
            availableStockLabel.css('color', 'orange');
        }
    } else {
        availableStockLabel.hide();
        availableStockLabel.text('stock quanity is not available');
        availableStockLabel.css('color', 'orange');
    }
}

    // Function to clear item info fields for the row
    function clearItemInfo(row) {
        $(row).find('.item-hsn').val('');
        $(row).find('.item-rate').val('');
        $(row).find('.item-tax').val('');
    }

    // Function to clear stock info field for the row
    function clearStock(row) {
        $(row).find('.availableStock').text('');
    }

    // Add event listener for item select change using event delegation
    $(document).on("change", ".item-select", function() {
        fetchItemData(this);
    });

    
    $(document).on("input", ".item-quantity, .item-discount", function() {
        var row = $(this).closest('tr');
        fetchItemData(row.find('.item-select'));
    });

    
    $('#placeOfSupply').on('change', function() {
        // Loop through each row and fetch item data
        $('.item-select').each(function() {
            fetchItemData(this);
        });
    });

});


</script>
<script>
     
    function addRow() {
      var table = document.getElementById("itemTable").getElementsByTagName('tbody')[0];
      var newRow = table.insertRow(table.rows.length);
      var index = table.rows.length;
      var row = newRow.insertCell(0);
      var item = newRow.insertCell(1);
      var hsn = newRow.insertCell(2);
      var quantity = newRow.insertCell(3);
      var rate = newRow.insertCell(4);
      var discount = newRow.insertCell(5);
      var tax = newRow.insertCell(6);
      var amount = newRow.insertCell(7);
      var action = newRow.insertCell(8);
      row.innerHTML = index;
  
      item.innerHTML = `
          <div style="display: flex; align-items: center;">
              <select name="item[]" id="item${index}" class="item-select" onchange="fetchItemData(this)" style="flex: 1; width: 250%;color: white;">
                  <option value="" selected></option>
                  {% for i in item %}
                  <option value="{{i.id}}" style="color: white;">{{i.item_name}}</option>
                  {% endfor %}
              </select>
            
              <button type="button" id="newwItem" data-target="#newItem" data-toggle="modal" style="border: 1px solid orange; border-radius: 5px; width: 50px; height: 40px;" >+</button>
          </div>
      `;
      
      hsn.innerHTML = '<input type="text" name="hsn[]" class="item-hsn" style="width: 100%;background-color: black;border: 1px solid white;border-radius: 8px;">';
      quantity.innerHTML = '<input type="number"  class="item-quantity" name="quantity[]" value="0" class="item-quantity" style="width: 100%;background-color: black;border: 1px solid white;border-radius: 8px;"><label class="availableStock" style="color: orange;"></label>';
      rate.innerHTML = '<input type="number" name="rate[]" class="item-rate" style="width: 100%;background-color: black;border: 1px solid white;border-radius: 8px;">';
      discount.innerHTML = '<input type="number"  name="discount[]" class="item-discount" value="0" style="width: 100%;background-color: black;border: 1px solid white;border-radius: 8px;">';
      tax.innerHTML = `
          <select name="tax[]" class="item-tax" style="width: 100%;">
              <option value="0">0% GST</option>
              <option value="3">3% GST</option>
              <option value="5">5% GST</option>
              <option value="12">12% GST</option>
              <option value="18">18% GST</option>
              <option value="28">28% GST</option>
          </select>
      `;
      amount.innerHTML = '<input type="text"  name="amount[]" class="item-amount" style="width: 100%;background-color: black;border: 1px solid white;border-radius: 8px;"  oninput="updateSubtotal()">';
      action.innerHTML = `
      <button type="button" style="  width: 50px; height: 40px;border: none;" onclick="removeRow(this)"><span style="color: orange;"><i class="fa fa-trash" aria-hidden="true"></i></span></button>
      `;
  
      $('#item' + index).select2({
              placeholder: '',
              width: '71%',
          });
  
          // Event listener for item select change
          $('.item-select').on('change', function() {
             
                  fetchItemData(this);
             
          })
  
     
      // Add event listeners for quantity and discount inputs in the new row
      newRow.querySelector('.item-quantity').addEventListener('input', calculateAmount);
      newRow.querySelector('.item-discount').addEventListener('input', calculateAmount);
      updateSubtotal()
  
      
  }
  
  function calculateAmount() {
      var row = this.closest('tr');
      var quantity = parseFloat(row.querySelector('.item-quantity').value);
      var rate = parseFloat(row.querySelector('.item-rate').value);
      var discount = parseFloat(row.querySelector('.item-discount').value);
      if (discount === '' || isNaN(parseFloat(discount))) {
        discount = 0; 
    } else {
        discount = parseFloat(discount); 
    }
  
      // Calculate the amount
      var amount = (quantity * rate) - discount;
  
      // Update the amount field in the same row
      var amountField = row.querySelector('.item-amount');
      amountField.value = isNaN(amount) || !isFinite(amount) ? '' : amount.toFixed(2);
      updateSubtotal()
     
      
  }
    
  function removeRow(button) {
      var row = button.closest('tr');
      var table = row.closest('table');
      if (table.rows.length > 2) {
          var amountField = row.querySelector('.item-amount');
          var taxField = row.querySelector('.item-tax');
          
          var amount = parseFloat(amountField.value) || 0;
          var taxRate = parseFloat(taxField.value) || 0;
          var subtotalField = document.getElementById('subtotal');
          var currentSubtotal = parseFloat(subtotalField.value) || 0;
          var newSubtotal = Math.max(currentSubtotal - amount, 0);
          subtotalField.value = newSubtotal.toFixed(2);
          
          var taxAmountToRemove = (amount * taxRate) / 100;
  
          
          var totalTaxAmountField = document.getElementById('taxAmount');
          var currentTotalTaxAmount = parseFloat(totalTaxAmountField.value) || 0;
          var newTotalTaxAmount = Math.max(currentTotalTaxAmount - taxAmountToRemove, 0);
          totalTaxAmountField.value = newTotalTaxAmount.toFixed(2);
          console.log(newTotalTaxAmount)
          
  
          row.remove();
          updateGSTField(newTotalTaxAmount); // Update GST fields based on new tax amount
  
          // Recalculate taxes for existing rows
          calculateTaxes(data);
  
          // Update other totals if needed
          updateAmount();
      } else {
          clearRowContent(row);
      }
  }
  
  function updateGSTField(totalTaxAmount) {
      var igst = parseFloat(document.getElementById('igst').value) || 0;
      var sgst = parseFloat(document.getElementById('sgst').value) || 0;
      var cgst = parseFloat(document.getElementById('cgst').value) || 0;
  
      if (igst > 0) {
          // If IGST is present, update its value
          document.getElementById('igst').value = totalTaxAmount.toFixed(2);
      } else {
          // If IGST is not present, calculate and update CGST and SGST fields
          var halfTaxAmount = totalTaxAmount / 2;
          document.getElementById('cgst').value = halfTaxAmount.toFixed(2);
          document.getElementById('sgst').value = halfTaxAmount.toFixed(2);
      }
  }
    
  
    function clearRowContent(row) {
      var cells = row.cells;
      for (var i = 0; i < cells.length; i++) {
          cells[i].innerHTML = '';
      }
  
      
  
    }
  </script>

  
  <script>
    
      
  
          // Function to fetch item data
          function fetchItemData(element) {
              var itemId = $(element).val();
              var row = $(element).closest('tr');
  
              if (itemId) {
                  $.ajax({
                      url: '/challan_get_item_data/' + itemId + '/',
                      type: 'GET',
                      success: function(data) {item
                          console.log('Received item data:', data);
                          $(row).find('.item-hsn').val(data.hsn);
                          $(row).find('.item-rate').val(data.rate);
                          $(row).find('.item-tax').val(calculateTax(data));
  
                          updateAvailableStock(row, data.stock);
                          calculateTaxes(data);
                          $('#item'+ index).select2('close');
                      },
                      error: function(error) {
                          console.error('Error fetching item data:', error);
                      }
                  });
              } else {
                  clearItemInfo(row);
                  clearStock(row);
              }
              
          }
  
          // Function to calculate tax based on company state
          function calculateTax(data) {
              var placeOfSupply = $('#placeOfSupply').val();
              return (placeOfSupply !== data.company_state) ? data.intertax : data.intratax;
          }
  
          // Function to update available stock for the row
          function updateAvailableStock(row, stock) {
              var quantityInput = $(row).find('.item-quantity');
              var quantity = parseFloat(quantityInput.val());
              var availableStockLabel = $(row).find('.availableStock');
  
              if (!isNaN(quantity) && quantity >= 0) {
                  var availableStock = Math.max(stock - quantity, 0);
                  availableStockLabel.text('Available Stock: ' + availableStock);
                  availableStockLabel.css('color', 'orange');
              } else {
                  availableStockLabel.text('Available Stock: ' + stock);
                  availableStockLabel.css('color', 'orange');
              }
          }
  
          // Function to clear item info fields for the row
          function clearItemInfo(row) {
              $(row).find('.item-hsn').val('');
              $(row).find('.item-rate').val('');
              $(row).find('.item-tax').val('');
          }
  
          // Function to clear stock info field for the row
          function clearStock(row) {
              $(row).find('.availableStock').text('');
          }
  
          // Event listener for input change in item quantity and discount
          $(document).on("input", ".item-quantity, .item-discount", function() {
              var row = $(this).closest('tr');
              fetchItemData(row.find('.item-select'));
          });
  
          // Event listener for place of supply change
          $('#placeOfSupply').on('change', function() {
              // Loop through each row and fetch item data
              $('.item-select').each(function() {
                  fetchItemData(this);
              });
          });
      
  </script>
  
  
<script>
  function calculateSubtotal() {
    var table = document.getElementById("itemTable").getElementsByTagName('tbody')[0];
    var amountInputs = table.querySelectorAll('.item-amount');
    var subtotal = 0;

    amountInputs.forEach(function(input) {
        var amount = parseFloat(input.value) || 0;
        subtotal += amount;
    });

    return subtotal.toFixed(2);
    
}

// Function to update the subtotal field
function updateSubtotal() {
    var subtotal = calculateSubtotal();
    document.getElementById('subtotal').value = subtotal; 
}


document.querySelectorAll('.item-amount').forEach(function(input) {
    input.addEventListener('input', function(event) {
        updateSubtotal();
      
        
    });
});

// Call updateSubtotal when DOM content is loaded to initialize the subtotal
document.addEventListener('DOMContentLoaded', function() {
    updateSubtotal();
    
    updateAmount(); 
    calculateTaxes(data)
       
       
    
});


</script>



<script>
  document.getElementById('quantity').addEventListener('input', function() {
    updateAmount();
    
});

document.getElementById('discount').addEventListener('input', function() {

    updateAmount();
    
});

function updateAmount() {
    var quantity = parseFloat(document.getElementById('quantity').value);
    var rate = parseFloat(document.getElementById('rate').value);
    var discount = parseFloat(document.getElementById('discount').value);
    if (discount === '' || isNaN(parseFloat(discount))) {
        discount = 0; // Set discount to 0 if it's empty or not a valid number
    } else {
        discount = parseFloat(discount); // Parse discount as float if it's a valid number
    }

    var amount = (quantity * rate) - discount;
    document.getElementById('amount').value = amount.toFixed(2);
    updateSubtotal();
    calculateTaxes(data);
    

   
    
    
   
    
}

</script>


<script>
  document.addEventListener('DOMContentLoaded', function() {
    
    function formatDate(date) {
      const year = date.getFullYear();
      const month = (date.getMonth() + 1).toString().padStart(2, '0'); 
      const day = date.getDate().toString().padStart(2, '0');
      return `${year}-${month}-${day}`;
    }

    
    const currentDate = new Date();

    
    document.getElementById('deliveryChallanDate').value = formatDate(currentDate);
  });
</script>


<script>
   function calculateTaxes(data) {
    var table = document.getElementById("itemTable").getElementsByTagName('tbody')[0];
    var rows = table.querySelectorAll('tr');
    
    var placeOfSupply = document.getElementById('placeOfSupply').value;
    var totalTaxAmount = 0;
    var totalCGST = 0;
    var totalSGST = 0;
    var totalIGST = 0;

    rows.forEach(function(row) {
        var amountField = row.querySelector('.item-amount');
        var taxField = row.querySelector('.item-tax');

        var amount = parseFloat(amountField.value) || 0;
        var taxRate = parseFloat(taxField.value) || 0;
        
        var taxType = placeOfSupply === data.company_state ? 'GST' : 'IGST';
    
        var taxAmount = (amount * taxRate) / 100;
    
        totalTaxAmount += taxAmount;

        if (taxType === 'GST') {
            var halfTaxAmount = taxAmount / 2;
            totalCGST += halfTaxAmount;
            totalSGST += halfTaxAmount;
            totalIGST = 0; // Reset IGST to 0
        } else if (taxType === 'IGST') {
            totalIGST += taxAmount;
            totalCGST = 0; // Reset CGST to 0
            totalSGST = 0; // Reset SGST to 0
        }
    });

    document.getElementById('cgst').value = totalCGST.toFixed(2);
    document.getElementById('sgst').value = totalSGST.toFixed(2);
    document.getElementById('igst').value = totalIGST.toFixed(2);
    
    document.getElementById('taxAmount').value = totalTaxAmount.toFixed(2);
    
    updateTotal();
   

    var itemTaxFields = document.querySelectorAll('.item-tax');
    itemTaxFields.forEach(function(field) {
        field.addEventListener('input', function() {
            calculateTaxes(data);
        });
    });
}
    function updateTotal() {
       
    
    var subtotal = parseFloat(document.getElementById('subtotal').value) ;
    var taxAmount = parseFloat(document.getElementById('taxAmount').value);
    var shippingCharges = parseFloat(document.getElementById('shippingCharge').value) || 0;
    var adjustment = parseFloat(document.getElementById('adjustment').value) || 0;

    // Calculate grand total
    var grandTotal = subtotal + taxAmount + shippingCharges + adjustment;

    // Display the grand total
    document.getElementById('total').value = grandTotal.toFixed(2);
}



document.getElementById('shippingCharge').addEventListener('input', updateTotal);
document.getElementById('adjustment').addEventListener('input', updateTotal);
document.getElementById('subtotal').addEventListener('input', updateTotal);



    </script>






                



<script>
    
    function calculateBalance() {
        
        var advance = parseFloat(document.getElementById("advance").value);
        var total = parseFloat(document.getElementById("total").value);

        
        if (!isNaN(advance)) {
            
            var balance = total - advance;

            
            document.getElementById("balance").value = balance.toFixed(2); // Assuming 2 decimal places for balance
        } else {
            
            document.getElementById("balance").value = "";
        }
    }

    // Event listener for input in advance field
    document.getElementById("advance").addEventListener("input", calculateBalance);
</script>





<script>
    document.addEventListener('DOMContentLoaded', function() {
        initializeFields('.item-amount', '0.00'); 
        initializeFields('#igst, #cgst, #sgst, #taxAmount, #shippingCharge, #adjustment, #total,#advance,#balance', '0.00'); // Initialize other fields to '0.00'
    });
    
    function initializeFields(selector, defaultValue) {
        var fields = document.querySelectorAll(selector);
        fields.forEach(function(field) {
            
            if (isNaN(parseFloat(field.value)) || !isFinite(field.value)) {
                
                field.value = defaultValue;
            }
        });
    }
    </script>
   <script>
    function updateChallanPattern() {
        var input = document.getElementById('deliveryChallan');
        var placeholder = input.placeholder;
        var enteredValue = input.value;

        // Check if the placeholder is not empty and the entered value is not equal to the placeholder
        if (placeholder && enteredValue !== placeholder) {
            document.getElementById('challanError').innerText = 'Challan number is not continuous';
        } else {
            document.getElementById('challanError').innerText = '';
        }
    }
</script>





<!-- New Item scripts -->
<!-- <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script> -->
<script>
    $(document).ready(function() {
        $('#myaccount').selectize();
    });
    $(document).ready(function() {
        $('#selunit').selectize();
    });

    $(document).on("click", "#newUnitSave", function(event) {
        event.preventDefault(); // Prevent the default form submission
        var uName = $("#unitName").val();
        $.ajax({
          type: 'POST',
          url: "{% url 'add_unit' %}",
          data: {
            units: uName,
            csrfmiddlewaretoken: '{{ csrf_token }}'
          },
          success: function(response) {
            if (response.message === 'success') {
              document.getElementById("unitform").reset();
              if($('#unitmodal').hasClass('show')){
                    $("#unitmodal .close_unit_modal").click()
                }
              reloadUnit(uName);
            } else {
              $("#error-message-container").text("Unit with the same name exists");
            }
          },
        });
      });

      function reloadUnit(unit) {
      
        $.ajax({
                url: "{% url 'challangetUnitsAjax' %}",
                type: "GET",
                dataType: "json",
                data: $(this).serialize(),
                csrfmiddlewaretoken: '{{ csrf_token }}',
            
                success: function(data) {
                    var setVal = "";
                    var $select = $(document.getElementById('selunit'));
                    var selectize = $select[0].selectize;
                    $.each(data, function(key, value) {
                        if(unit == value[1]){
                            setVal = value[0]
                        }
                        selectize.addOption({value:value[0],text:value[1]});
                        selectize.addItem(value[0]); 
                    });

                    if(setVal != ""){
                        selectize.setValue(setVal);
                    }
            
                },
        
        });
      }

    function showAllSelect() {
        var select1_div = document.getElementById("select1_div");
        var select2_div = document.getElementById("select2_div");
        select1_div.style.display = "block";
        select2_div.style.display = "block";
    }

    function hideAllSelect() {
        var select1_div = document.getElementById("select1_div");
        var select2_div = document.getElementById("select2_div");
        select1_div.style.display = "none";
        select2_div.style.display = "none";
    }

      function toggleFormFields() {
        var formFields = document.getElementById("formFields");
        var checkbox = document.querySelector("input[name=trackstate]");
    
        if (checkbox.checked) {
            formFields.style.display = "block";
        } else {
            formFields.style.display = "none";
        }
        }

        function validateSixDigits(field) {
              // Define the regular expression pattern for exactly six digits
              var pattern = /^\d{6}$/;
      
              // Check if the field matches the pattern
              return pattern.test(field);
          }
      
          function validateInput() {
              var inputField = document.getElementById("myInputField");
              var inputValue = inputField.value;
      
              var validationResultDiv = document.getElementById("validationResult");
      
              if (validateSixDigits(inputValue)) {
                  validationResultDiv.textContent = "Valid";
              } else {
                  validationResultDiv.textContent = "Invalid: The field does not contain six digits.";
              }
          }


$(document).on("click","#saveNewItem",function(){
    var name = $("#nameInput").val();
    var type = $("input[name='itemType']:checked").val();
    var unit = $("#selunit").val();
    var hsn = $("#myInputField").val();
    var purAccount = $("#myaccount").val();
    var trck;
    if($('#trackInv').prop('checked')){
        trck = 1
    }else{
        trck = 0
    }
    if(type == undefined){
        alert('Please select item type')
        return
    }
    if($('#gridRadios3').prop('checked') || $('#gridRadios4').prop('checked')){
        if($('#gridRadios3').prop('checked')){
            var tax = 'taxable'
        }else{
            var tax = 'None-Taxable'
        }
    }else{
        alert("Should select any of tax reference")
        return
    }

    if (name !="" && type !="" && unit != "" && hsn != "" && tax != "" && purAccount != ""){
        $.ajax({
            type : 'POST',
            url:"{% url 'challancreateNewItemAjax' %}",
            data:{
                'name' : name,
                'type' : type,
                'unit' : unit,
                'hsn' : hsn,
                'taxref' : tax,
                'intra_st' : $("#intraStateTax").val(),
                'inter_st' : $("#interStateTax").val(),
                'pcost' : $("#purprice").val(),
                'pur_account' : purAccount,
                'pur_desc' : $("#purchaseDescription").val(),
                'salesprice' : $("#salesprice").val(),
                'sale_account' : $("#salesAccount").val(),
                'sale_desc' : $("#salesDescription").val(),
                'invacc' : $("#invAcc").val(),
                'stock' : $("#stockOnHand").val(),
                'stock_rate' : $("#stockRate").val(),
                'min_stock' : $("#minStock").val(),
                'trackInv' : trck,
                csrfmiddlewaretoken: '{{ csrf_token }}'
            },
            
            success: function(response) {
                if(response.status){
                    console.log("AJAX Success",response)
                    document.getElementById("newItemForm").reset();

                    if($('#newItem').hasClass('show')){
                        $('#newItem .close_item_modal').click()
                    }
                    reloadItems();
                }else{
                    alert(response.message)
                }
            },         
        });
    }
    else{
        alert('Fill all required fields.!')
        return;
    }
});

function reloadItems() {
    $.ajax({
        url: "{% url 'challangetAllItemsAjax' %}",
        type: "GET",
        dataType: "json",
        data: {
            csrfmiddlewaretoken: '{{ csrf_token }}'
        },
        success: function(data) {
            var dropdown = $('.item-select');
            dropdown.empty();
            
            $.each(data, function(key, value) {
                dropdown.append($('<option></option>').attr('value', key).text(value));
            });
            dropdown.css({
                'font-size': '16px',
                'color': 'white'
                // You can set the background color here
            });
        },
        error: function(xhr, status, error) {
            console.error(xhr.responseText);
            alert('Error reloading dropdown options.');
        }
    });

    if ($('#newAccount').hasClass('show')){
        $('#newAccount .close_account_modal').click();
    }

    if ($('#unitmodal').hasClass('show')){
        $('#unitmodal .close_unit_modal').click();
    }
}

      $(document).on("click","#newAccountSave",function(){
            event.preventDefault();

            var acType = $("#soValue1").val();
            var acName = $("#account_name").val();
            var acCode = $("#account_code").val();
            var acDesc = $("#description").val();
            var accNumber = $('#account_number').val();
            var subAcc, parentAcc;
            if(acType == "" || acName == ""){
                alert('Account Name and Type should be entered.')
                return
            }

            if(acType == 'Bank' && accNumber == ""){
                alert('Please enter account number')
                return
            }

            if($('#sub_account').prop('checked')){
                if($('#parent_account').val() == ""){
                    alert('Select parent account')
                    return
                }else{
                    console.log('currentvalue == ',$('#parent_account').val())
                    subAcc = $('#sub_account').val()
                    parentAcc = $('#parent_account').val()
                }
            }else if($('#sub_account22').prop('checked')){

                if($('#parent_account22').val() == ""){
                    alert('Select parent account')
                    return
                }else{
                    subAcc = $('#sub_account22').val()
                    parentAcc = $('#parent_account22').val()
                }
            }else if($('#sub_account33').prop('checked')){

                if($('#parent_account33').val() == ""){
                    alert('Select parent account')
                    return
                }else{
                    subAcc = $('#sub_account33').val()
                    parentAcc = $('#parent_account33').val()
                }
            }else if($('#sub_account44').prop('checked')){

                if($('#parent_account44').val() == ""){
                    alert('Select parent account')
                    return
                }else{
                    subAcc = $('#sub_account44').val()
                    parentAcc = $('#parent_account44').val()
                }
            }else if($('#sub_account55').prop('checked')){

                if($('#parent_account55').val() == ""){
                    alert('Select parent account')
                    return
                }else{
                    subAcc = $('#sub_account55').val()
                    parentAcc = $('#parent_account55').val()
                }
            }else if($('#sub_account66').prop('checked')){
                if($('#parent_account66').val() == ""){
                    alert('Select parent account')
                    return
                }else{
                    subAcc = $('#sub_account66').val()
                    parentAcc = $('#parent_account66').val()
                }

            }else if($('#sub_account77').prop('checked')){
                if($('#parent_account77').val() == ""){
                    alert('Select parent account')
                    return
                }else{
                    subAcc = $('#sub_account77').val()
                    parentAcc = $('#parent_account77').val()
                }

            }else if($('#sub_account88').prop('checked')){
                if($('#sub_account88').prop('checked') && $('#parent_account88').val() == ""){
                    alert('Select parent account')
                    return
                }else{
                    subAcc = $('#sub_account88').val()
                    parentAcc = $('#parent_account88').val()
                }

            }else if($('#sub_account99').prop('checked')){
                if($('#parent_account99').val() == ""){
                    alert('Select parent account')
                    return
                }else{
                    subAcc = $('#sub_account99').val()
                    parentAcc = $('#parent_account99').val()
                }

            }else if($('#sub_account100').prop('checked')){
                if($('#parent_account100').val() == ""){
                    alert('Select parent account')
                    return
                }else{
                    subAcc = $('#sub_account100').val()
                    parentAcc = $('#parent_account100').val()
                }

            }else if($('#sub_account111').prop('checked')){
                if($('#parent_account111').val() == ""){
                    alert('Select parent account')
                    return
                }else{
                    subAcc = $('#sub_account111').val()
                    parentAcc = $('#parent_account111').val()
                }

            }else if($('#sub_account222').prop('checked')){
                if($('#parent_account222').val() == ""){
                    alert('Select parent account')
                    return
                }else{
                    subAcc = $('#sub_account222').val()
                    parentAcc = $('#parent_account222').val()
                }

            }else{

            }



            console.log(acType, acName, acCode, acDesc)
            console.log('sub', subAcc)
            console.log('parent', parentAcc)

          $.ajax({
            
            type : 'POST',
            url:"{% url 'challancreateNewAccountAjax' %}",
        
            data:{
                
                account_type : acType,
                account_name : acName,
                account_code : acCode,
                description : acDesc,
                account_number : accNumber,
                
                sub_acc : subAcc,
                parent_acc : parentAcc,
         
         
                csrfmiddlewaretoken: '{{ csrf_token }}'
                
              },
              success: function(response) {
            if (response.status) {
              document.getElementById("newAccountForm").reset();
              if($('#newAccount').hasClass('show')){
                    $("#newAccount .close_account_modal").click()
                }
                reloadAccounts(acName)
            } else {
              $("#error-message-container2").text("Account with the same name exists");
            }
          },
      
          });     
        });
        
        
        function reloadAccounts(account) {
            $.ajax({
                url: "{% url 'challangetAllAccountsAjax' %}",
                type: "GET",
                dataType: "json", 
                data: {},
                
                success: function(data) {
                    var acc = account
                    var setVal = "";
                    var selectize = $('#myaccount').selectize()[0].selectize;
                    selectize.clearOptions();

                    selectize.addOptionGroup('Expense', { label: "Expense" });
                    selectize.addOptionGroup('Cost Of Goods Sold', { label: "Cost Of Goods Sold" });
                    selectize.addOptionGroup('Other Expense', { label: "Other Expense" });

                    $.each(data, function(key, value) {
                        if(account == value[0]){
                            setVal = value[0]
                        }
                        console.log(value[0],value[1])
                        if(value[1] == 'Expense'){
                            selectize.addOption({value:value[0],text:value[0], optgroup: 'Expense'});
                        }else if(value[1] == 'Cost Of Goods Sold'){
                            selectize.addOption({value:value[0],text:value[0], optgroup: 'Cost Of Goods Sold'});
                        }else if(value[1] == 'Other Expense'){
                            selectize.addOption({value:value[0],text:value[0], optgroup: 'Other Expense'});
                        }else{

                        }
                    });
                    selectize.refreshOptions();

                    if(setVal != ""){
                        selectize.setValue(setVal);
                    }
            
                },
                error: function(xhr, status, error) {
                console.error(xhr.responseText);
            
                }
            });
        }

        function toggleBankAcc(){
            var vals = document.getElementById('soValue1').value
            var accountNumberField = document.getElementById("acc_bo_div");
            if (vals === "Bank") {
                accountNumberField.style.display = "block";
            } else {
                accountNumberField.style.display = "none";
            }
        }
    function message() {
        toggleBankAcc()

        var vals = document.getElementById('soValue1').value
        console.log(vals)
        if (vals == "Other Assets") {
            document.getElementById('message_hd').innerHTML = "Assets"
            document.getElementById('message').innerHTML = "Track special assets like goodwill and other intangible assets"
            document.getElementById("parent_div").style.display = "none";
            document.getElementById("parent_div22").style.display = "none";
            document.getElementById("parent_div33").style.display = "none";
            document.getElementById("parent_div44").style.display = "none";
            document.getElementById("parent_div55").style.display = "none";
            document.getElementById("parent_div66").style.display = "none";
            document.getElementById("parent_div77").style.display = "none";
            document.getElementById("parent_div88").style.display = "none";
            document.getElementById("parent_div99").style.display = "none";
            document.getElementById("parent_div100").style.display = "none";
            document.getElementById("parent_div111").style.display = "none";
            document.getElementById("parent_div222").style.display = "none";


            document.getElementById("sub_div").style.display = "none";
            document.getElementById("sub_div22").style.display = "none";
            document.getElementById("sub_div33").style.display = "none";
            document.getElementById("sub_div44").style.display = "none";
            document.getElementById("sub_div55").style.display = "none";
            document.getElementById("sub_div66").style.display = "none";
            document.getElementById("sub_div77").style.display = "none";
            document.getElementById("sub_div88").style.display = "none";
            document.getElementById("sub_div99").style.display = "none";
            document.getElementById("sub_div100").style.display = "none";
            document.getElementById("sub_div111").style.display = "none";
            document.getElementById("sub_div222").style.display = "none";
            document.getElementById("name").style.display = "block";
            document.getElementById("credit").style.display = "none";
            document.getElementById("acc_bo_div").style.display = "none";
            document.getElementById("cr_div").style.display = "none";

        } else if (vals == "Other Current Assets") {
            document.getElementById('message_hd').innerHTML = "Any short term asset that can be converted into cash or cash equivalents easily<ul style='list-style-type: disc;'><li>Prepaid expenses</li><li>Stocks and Mutual Funds</li></ul>";

            document.getElementById('message').innerHTML = ""
            document.getElementById("sub_account").checked = false;
            document.getElementById("cr_div").style.display = "none";
            document.getElementById("acc_bo_div").style.display = "none";
            document.getElementById("parent_div22").style.display = "none";
            document.getElementById("parent_div33").style.display = "none";
            document.getElementById("parent_div44").style.display = "none";
            document.getElementById("parent_div55").style.display = "none";
            document.getElementById("parent_div66").style.display = "none";
            document.getElementById("parent_div77").style.display = "none";
            document.getElementById("parent_div88").style.display = "none";
            document.getElementById("parent_div99").style.display = "none";
            document.getElementById("parent_div100").style.display = "none";
            document.getElementById("parent_div111").style.display = "none";
            document.getElementById("parent_div222").style.display = "none";

            document.getElementById("sub_div").style.display = "block";
            document.getElementById("sub_div22").style.display = "none";
            document.getElementById("sub_div33").style.display = "none";
            document.getElementById("sub_div44").style.display = "none";
            document.getElementById("sub_div55").style.display = "none";
            document.getElementById("sub_div66").style.display = "none";
            document.getElementById("sub_div77").style.display = "none";
            document.getElementById("sub_div88").style.display = "none";
            document.getElementById("sub_div99").style.display = "none";
            document.getElementById("sub_div100").style.display = "none";
            document.getElementById("sub_div111").style.display = "none";
            document.getElementById("sub_div222").style.display = "none";
            document.getElementById("name").style.display = "block";
            document.getElementById("credit").style.display = "none";

            $('#message').append(
                `Any short term asset that can be converted into cash or cash equivalents easily 
          <ul><li>Prepaid expenses</li> <li>Stocks and Mutual Funds</li></ul>`
            )

        } else if (vals == "Cash") {
            document.getElementById('message_hd').innerHTML = "Assets<br><br>To keep track of cash and other cash equivalents like petty cash, undeposited funds, etc.";

            document.getElementById('message').innerHTML = ""
            document.getElementById("sub_account22").checked = false;

            document.getElementById("parent_div").style.display = "none";
            document.getElementById("parent_div33").style.display = "none";
            document.getElementById("parent_div44").style.display = "none";
            document.getElementById("parent_div55").style.display = "none";
            document.getElementById("parent_div66").style.display = "none";
            document.getElementById("parent_div77").style.display = "none";
            document.getElementById("parent_div88").style.display = "none";
            document.getElementById("parent_div99").style.display = "none";
            document.getElementById("parent_div100").style.display = "none";
            document.getElementById("parent_div111").style.display = "none";
            document.getElementById("parent_div222").style.display = "none";

            document.getElementById("sub_div").style.display = "none";
            document.getElementById("sub_div55").style.display = "none";
            document.getElementById("sub_div66").style.display = "none";
            document.getElementById("sub_div77").style.display = "none";
            document.getElementById("sub_div88").style.display = "none";
            document.getElementById("sub_div99").style.display = "none";
            document.getElementById("sub_div100").style.display = "none";
            document.getElementById("sub_div111").style.display = "none";
            document.getElementById("sub_div222").style.display = "none";
            document.getElementById("sub_div33").style.display = "none";
            document.getElementById("sub_div44").style.display = "none";
            document.getElementById("sub_div22").style.display = "block";
            document.getElementById("cr_div").style.display = "none";
            document.getElementById("acc_bo_div").style.display = "none";
            document.getElementById("name").style.display = "block";
            document.getElementById("credit").style.display = "none";
            $('#message').append(
                `To keep track of cash and other cash equivalents like petty cash, undeposited funds, etc.`
            )

        } else if (vals == "Bank") {
            document.getElementById('message_hd').innerHTML = "Assets<br><br>To keep track of bank accounts like Savings, Checking, and Money Market accounts.";

            document.getElementById('').innerHTML = "Assets"
            document.getElementById('message').innerHTML = ""
            document.getElementById("cr_div").style.display = "block";
            document.getElementById("acc_bo_div").style.display = "block";
            document.getElementById("name").style.display = "block";
            document.getElementById("credit").style.display = "none";

            document.getElementById("parent_div").style.display = "none";
            document.getElementById("parent_div22").style.display = "none";
            document.getElementById("parent_div33").style.display = "none";
            document.getElementById("parent_div44").style.display = "none";
            document.getElementById("parent_div55").style.display = "none";
            document.getElementById("parent_div66").style.display = "none";
            document.getElementById("parent_div77").style.display = "none";
            document.getElementById("parent_div88").style.display = "none";
            document.getElementById("parent_div99").style.display = "none";
            document.getElementById("parent_div100").style.display = "none";
            document.getElementById("parent_div111").style.display = "none";
            document.getElementById("parent_div222").style.display = "none";


            document.getElementById("sub_div").style.display = "none";
            document.getElementById("sub_div22").style.display = "none";
            document.getElementById("sub_div33").style.display = "none";
            document.getElementById("sub_div44").style.display = "none";
            document.getElementById("sub_div55").style.display = "none";
            document.getElementById("sub_div66").style.display = "none";
            document.getElementById("sub_div77").style.display = "none";
            document.getElementById("sub_div88").style.display = "none";
            document.getElementById("sub_div99").style.display = "none";
            document.getElementById("sub_div100").style.display = "none";
            document.getElementById("sub_div111").style.display = "none";
            document.getElementById("sub_div222").style.display = "none";


            $('#message').append(
                `To keep track of bank accounts like Savings, Checking, and Money Market accounts`
            )

        } else if (vals == "Fixed Asset") {
            document.getElementById('message_hd').innerHTML = "Assets<br><br>Any long term investment or an asset that cannot be converted into cash easily like:<ul><li>Land and Buildings</li><li>Plant, Machinery and Equipment</li><li>Computers</li><li>Furniture</li></ul>";

            document.getElementById('message').innerHTML = ""
            document.getElementById("sub_account33").checked = false;

            document.getElementById("parent_div").style.display = "none";
            document.getElementById("parent_div22").style.display = "none";
            document.getElementById("parent_div44").style.display = "none";
            document.getElementById("parent_div55").style.display = "none";
            document.getElementById("parent_div66").style.display = "none";
            document.getElementById("parent_div77").style.display = "none";
            document.getElementById("parent_div88").style.display = "none";
            document.getElementById("parent_div99").style.display = "none";
            document.getElementById("parent_div100").style.display = "none";
            document.getElementById("parent_div111").style.display = "none";
            document.getElementById("parent_div222").style.display = "none";

            document.getElementById("sub_div44").style.display = "none";
            document.getElementById("sub_div33").style.display = "block";
            document.getElementById("sub_div22").style.display = "none";
            document.getElementById("sub_div").style.display = "none";
            document.getElementById("sub_div55").style.display = "none";
            document.getElementById("sub_div66").style.display = "none";
            document.getElementById("sub_div77").style.display = "none";
            document.getElementById("sub_div88").style.display = "none";
            document.getElementById("sub_div99").style.display = "none";
            document.getElementById("sub_div100").style.display = "none";
            document.getElementById("sub_div111").style.display = "none";
            document.getElementById("sub_div222").style.display = "none";
            document.getElementById("name").style.display = "block";
            document.getElementById("credit").style.display = "none";
            document.getElementById("cr_div").style.display = "none";
            document.getElementById("acc_bo_div").style.display = "none";
            $('#message').append(
                `Any long term investment or an asset that cannot be converted into cash easily like: 
          <ul><li>Land and Buildings</li> <li>Plant, Machinery and Equipment</li> <li>Computers</li> <li>Furniture</li></ul>`
            )

        } else if (vals == "Stock") {
            document.getElementById('message_hd').innerHTML = "Assets<br><br>To keep track of your inventory assets.";

            document.getElementById('message').innerHTML = ""
            document.getElementById("sub_account44").checked = false;

            document.getElementById("parent_div").style.display = "none";
            document.getElementById("parent_div22").style.display = "none";
            document.getElementById("parent_div33").style.display = "none";
            document.getElementById("parent_div55").style.display = "none";
            document.getElementById("parent_div66").style.display = "none";
            document.getElementById("parent_div77").style.display = "none";
            document.getElementById("parent_div88").style.display = "none";
            document.getElementById("parent_div99").style.display = "none";
            document.getElementById("parent_div100").style.display = "none";
            document.getElementById("parent_div111").style.display = "none";
            document.getElementById("parent_div222").style.display = "none";

            document.getElementById("sub_div44").style.display = "block";
            document.getElementById("sub_div33").style.display = "none";
            document.getElementById("sub_div22").style.display = "none";
            document.getElementById("sub_div").style.display = "none";
            document.getElementById("sub_div55").style.display = "none";
            document.getElementById("sub_div66").style.display = "none";
            document.getElementById("sub_div77").style.display = "none";
            document.getElementById("sub_div88").style.display = "none";
            document.getElementById("sub_div99").style.display = "none";
            document.getElementById("sub_div100").style.display = "none";
            document.getElementById("sub_div111").style.display = "none";
            document.getElementById("sub_div222").style.display = "none";


            document.getElementById("name").style.display = "block";
            document.getElementById("credit").style.display = "none";
            document.getElementById("acc_bo_div").style.display = "none";
            document.getElementById("cr_div").style.display = "none";
            $('#message').append(
                `To keep track of your inventory assets.`
            )

        } else if (vals == "Payment Clearing") {
            document.getElementById('message_hd').innerHTML = "Assets<br><br>To keep track of funds moving in and out via payment processors like Stripe, PayPal, etc.";

            document.getElementById('message').innerHTML = ""
            document.getElementById("name").style.display = "block";
            document.getElementById("credit").style.display = "none";
            document.getElementById("acc_bo_div").style.display = "none";
            document.getElementById("cr_div").style.display = "none";
            document.getElementById("parent_div").style.display = "none";
            document.getElementById("parent_div22").style.display = "none";
            document.getElementById("parent_div33").style.display = "none";
            document.getElementById("parent_div44").style.display = "none";
            document.getElementById("parent_div55").style.display = "none";
            document.getElementById("parent_div66").style.display = "none";
            document.getElementById("parent_div77").style.display = "none";
            document.getElementById("parent_div88").style.display = "none";
            document.getElementById("parent_div99").style.display = "none";
            document.getElementById("parent_div100").style.display = "none";
            document.getElementById("parent_div111").style.display = "none";
            document.getElementById("parent_div222").style.display = "none";


            document.getElementById("sub_div").style.display = "none";
            document.getElementById("sub_div22").style.display = "none";
            document.getElementById("sub_div33").style.display = "none";
            document.getElementById("sub_div44").style.display = "none";
            document.getElementById("sub_div55").style.display = "none";
            document.getElementById("sub_div66").style.display = "none";
            document.getElementById("sub_div77").style.display = "none";
            document.getElementById("sub_div88").style.display = "none";
            document.getElementById("sub_div99").style.display = "none";
            document.getElementById("sub_div100").style.display = "none";
            document.getElementById("sub_div111").style.display = "none";
            document.getElementById("sub_div222").style.display = "none";
            $('#message').append(
                `To keep track of funds moving in and out via payment processors like Stripe, PayPal, etc.`
            )

        } else if (vals == "Other Current Liability") {
            document.getElementById('message_hd').innerHTML = "Liability<br><br>Any short term liability like:<ul><li>Customer Deposits</li><li>Tax Payable</li></ul>";

            document.getElementById('message').innerHTML = ""
            document.getElementById("sub_account55").checked = false;

            document.getElementById("parent_div").style.display = "none";
            document.getElementById("parent_div22").style.display = "none";
            document.getElementById("parent_div33").style.display = "none";
            document.getElementById("parent_div44").style.display = "none";
            document.getElementById("parent_div66").style.display = "none";
            document.getElementById("parent_div77").style.display = "none";
            document.getElementById("parent_div88").style.display = "none";
            document.getElementById("parent_div99").style.display = "none";
            document.getElementById("parent_div100").style.display = "none";
            document.getElementById("parent_div111").style.display = "none";
            document.getElementById("parent_div222").style.display = "none";

            document.getElementById("sub_div").style.display = "none";
            document.getElementById("sub_div22").style.display = "none";
            document.getElementById("sub_div33").style.display = "none";
            document.getElementById("sub_div44").style.display = "none";
            document.getElementById("sub_div55").style.display = "block";
            document.getElementById("sub_div66").style.display = "none";
            document.getElementById("sub_div77").style.display = "none";
            document.getElementById("sub_div88").style.display = "none";
            document.getElementById("sub_div99").style.display = "none";
            document.getElementById("sub_div100").style.display = "none";
            document.getElementById("sub_div111").style.display = "none";
            document.getElementById("sub_div222").style.display = "none";

            document.getElementById("cr_div").style.display = "none";
            document.getElementById("acc_bo_div").style.display = "none";
            document.getElementById("name").style.display = "block";
            document.getElementById("credit").style.display = "none";

            $('#message').append(
                `Any short term liability like:
          <ul><li>Customer Deposits</li> <li>Tax Payable</li></ul>`
            )

        } else if (vals == "Credit Card") {
            document.getElementById('message_hd').innerHTML = "Liability<br><br>Create a trail of all your credit card transactions by creating a credit card account.";

            document.getElementById('message').innerHTML = ""
            document.getElementById("name").style.display = "block";
            document.getElementById("credit").style.display = "none";
            document.getElementById("cr_div").style.display = "block";
            document.getElementById("acc_bo_div").style.display = "none";

            document.getElementById("parent_div").style.display = "none";
            document.getElementById("parent_div22").style.display = "none";
            document.getElementById("parent_div33").style.display = "none";
            document.getElementById("parent_div44").style.display = "none";
            document.getElementById("parent_div55").style.display = "none";
            document.getElementById("parent_div66").style.display = "none";
            document.getElementById("parent_div77").style.display = "none";
            document.getElementById("parent_div88").style.display = "none";
            document.getElementById("parent_div99").style.display = "none";
            document.getElementById("parent_div100").style.display = "none";
            document.getElementById("parent_div111").style.display = "none";
            document.getElementById("parent_div222").style.display = "none";


            document.getElementById("sub_div").style.display = "none";
            document.getElementById("sub_div22").style.display = "none";
            document.getElementById("sub_div33").style.display = "none";
            document.getElementById("sub_div44").style.display = "none";
            document.getElementById("sub_div55").style.display = "none";
            document.getElementById("sub_div66").style.display = "none";
            document.getElementById("sub_div77").style.display = "none";
            document.getElementById("sub_div88").style.display = "none";
            document.getElementById("sub_div99").style.display = "none";
            document.getElementById("sub_div100").style.display = "none";
            document.getElementById("sub_div111").style.display = "none";
            document.getElementById("sub_div222").style.display = "none";

            $('#message').append(
                `Create a trail of all your credit card transactions by creating a credit card account`
            )

        } else if (vals == "Long Term Liability") {
            document.getElementById('message_hd').innerHTML = "Liability<br><br>Liabilities that mature after a minimum period of one year like:<ul><li>Notes Payable</li><li>Debentures</li><li>Long Term Loans</li></ul>";

            document.getElementById('message').innerHTML = ""
            document.getElementById("sub_account66").checked = false;

            document.getElementById("parent_div").style.display = "none";
            document.getElementById("parent_div22").style.display = "none";
            document.getElementById("parent_div33").style.display = "none";
            document.getElementById("parent_div44").style.display = "none";
            document.getElementById("parent_div55").style.display = "none";
            document.getElementById("parent_div77").style.display = "none";
            document.getElementById("parent_div88").style.display = "none";
            document.getElementById("parent_div99").style.display = "none";
            document.getElementById("parent_div100").style.display = "none";
            document.getElementById("parent_div111").style.display = "none";
            document.getElementById("parent_div222").style.display = "none";

            document.getElementById("cr_div").style.display = "none";
            document.getElementById("name").style.display = "block";
            document.getElementById("credit").style.display = "none";
            document.getElementById("sub_div66").style.display = "block";
            document.getElementById("sub_div55").style.display = "none";
            document.getElementById("sub_div44").style.display = "none";
            document.getElementById("sub_div33").style.display = "none";
            document.getElementById("sub_div22").style.display = "none";
            document.getElementById("sub_div").style.display = "none";
            document.getElementById("sub_div77").style.display = "none";
            document.getElementById("sub_div88").style.display = "none";
            document.getElementById("sub_div99").style.display = "none";
            document.getElementById("sub_div100").style.display = "none";
            document.getElementById("sub_div111").style.display = "none";
            document.getElementById("sub_div222").style.display = "none";


            document.getElementById("acc_bo_div").style.display = "none";

            $('#message').append(
                `Liabilities that mature after a minimum period of one year like Notes Payable, Debentures, and Long Term Loans`
            )

        } else if (vals == "Other Liability") {
            document.getElementById('message_hd').innerHTML = "Liability<br><br>Obligation of an entity arising from past transactions or events which would require repayment.<ul><li>Tax to be paid</li><li>Loan to be Repaid</li><li>Accounts Payable</li> etc.</ul>";

            document.getElementById('message').innerHTML = ""
            document.getElementById("sub_account77").checked = false;

            document.getElementById("parent_div").style.display = "none";
            document.getElementById("parent_div22").style.display = "none";
            document.getElementById("parent_div33").style.display = "none";
            document.getElementById("parent_div44").style.display = "none";
            document.getElementById("parent_div55").style.display = "none";
            document.getElementById("parent_div66").style.display = "none";
            document.getElementById("parent_div88").style.display = "none";
            document.getElementById("parent_div99").style.display = "none";
            document.getElementById("parent_div100").style.display = "none";
            document.getElementById("parent_div111").style.display = "none";
            document.getElementById("parent_div222").style.display = "none";

            document.getElementById("sub_div66").style.display = "none";
            document.getElementById("sub_div55").style.display = "none";
            document.getElementById("sub_div44").style.display = "none";
            document.getElementById("sub_div33").style.display = "none";
            document.getElementById("sub_div22").style.display = "none";
            document.getElementById("sub_div").style.display = "none";
            document.getElementById("sub_div77").style.display = "block";
            document.getElementById("sub_div88").style.display = "none";
            document.getElementById("sub_div99").style.display = "none";
            document.getElementById("sub_div100").style.display = "none";
            document.getElementById("sub_div111").style.display = "none";
            document.getElementById("sub_div222").style.display = "none";

            document.getElementById("cr_div").style.display = "none";
            document.getElementById("name").style.display = "block";
            document.getElementById("credit").style.display = "none";
            document.getElementById("acc_bo_div").style.display = "none";


            $('#message').append(
                `Obligation of an entity arising from past transactions or events which would require repayment.<ul><li>Tax to be paid</li> <li>Loan to be Repaid</li> <li>Accounts Payable etc</li> </ul>`
            )

        } else if (vals == "Overseas Tax Payable") {
            document.getElementById('message_hd').innerHTML = "Liability<br><br>Track your taxes in this account if your business sells digital services to foreign customers.";

            document.getElementById('message').innerHTML = ""
            document.getElementById("cr_div").style.display = "none";
            document.getElementById("name").style.display = "block";
            document.getElementById("credit").style.display = "none";
            document.getElementById("acc_bo_div").style.display = "none";
            document.getElementById("parent_div").style.display = "none";
            document.getElementById("parent_div22").style.display = "none";
            document.getElementById("parent_div33").style.display = "none";
            document.getElementById("parent_div44").style.display = "none";
            document.getElementById("parent_div55").style.display = "none";
            document.getElementById("parent_div66").style.display = "none";
            document.getElementById("parent_div77").style.display = "none";
            document.getElementById("parent_div88").style.display = "none";
            document.getElementById("parent_div99").style.display = "none";
            document.getElementById("parent_div100").style.display = "none";
            document.getElementById("parent_div111").style.display = "none";
            document.getElementById("parent_div222").style.display = "none";


            document.getElementById("sub_div").style.display = "none";
            document.getElementById("sub_div22").style.display = "none";
            document.getElementById("sub_div33").style.display = "none";
            document.getElementById("sub_div44").style.display = "none";
            document.getElementById("sub_div55").style.display = "none";
            document.getElementById("sub_div66").style.display = "none";
            document.getElementById("sub_div77").style.display = "none";
            document.getElementById("sub_div88").style.display = "none";
            document.getElementById("sub_div99").style.display = "none";
            document.getElementById("sub_div100").style.display = "none";
            document.getElementById("sub_div111").style.display = "none";
            document.getElementById("sub_div222").style.display = "none";


            $('#message').append(
                `Track your taxes in this account if your business sells digital services to foreign customers.`
            )

        } else if (vals == "Equity") {
            document.getElementById('message_hd').innerHTML = "Equity<br><br>Owners or stakeholders interest on the assets of the business after deducting all the liabilities.";

            document.getElementById('message').innerHTML = ""
            document.getElementById("sub_account88").checked = false;

            document.getElementById("cr_div").style.display = "none";
            document.getElementById("name").style.display = "block";
            document.getElementById("credit").style.display = "none";
            document.getElementById("parent_div").style.display = "none";
            document.getElementById("parent_div22").style.display = "none";
            document.getElementById("parent_div33").style.display = "none";
            document.getElementById("parent_div44").style.display = "none";
            document.getElementById("parent_div55").style.display = "none";
            document.getElementById("parent_div66").style.display = "none";
            document.getElementById("parent_div77").style.display = "none";
            document.getElementById("parent_div99").style.display = "none";
            document.getElementById("parent_div100").style.display = "none";
            document.getElementById("parent_div111").style.display = "none";
            document.getElementById("parent_div222").style.display = "none";

            document.getElementById("sub_div").style.display = "none";
            document.getElementById("sub_div22").style.display = "none";
            document.getElementById("sub_div33").style.display = "none";
            document.getElementById("sub_div44").style.display = "none";
            document.getElementById("sub_div55").style.display = "none";
            document.getElementById("sub_div66").style.display = "none";
            document.getElementById("sub_div77").style.display = "none";
            document.getElementById("sub_div88").style.display = "block";
            document.getElementById("sub_div99").style.display = "none";
            document.getElementById("sub_div100").style.display = "none";
            document.getElementById("sub_div111").style.display = "none";
            document.getElementById("sub_div222").style.display = "none";

            document.getElementById("acc_bo_div").style.display = "none";

            $('#message').append(
                `Owners or stakeholders interest on the assets of the business after deducting all the liabilities`
            )

        } else if (vals == "Income") {
            document.getElementById('message_hd').innerHTML = "Income<br><br>Income or Revenue earned from normal business activities like sale of goods and services to customers.";

            document.getElementById('message').innerHTML = ""
            document.getElementById("sub_account99").checked = false;

            document.getElementById("cr_div").style.display = "none";
            document.getElementById("name").style.display = "block";
            document.getElementById("credit").style.display = "none";
            document.getElementById("parent_div").style.display = "none";
            document.getElementById("parent_div22").style.display = "none";
            document.getElementById("parent_div33").style.display = "none";
            document.getElementById("parent_div44").style.display = "none";
            document.getElementById("parent_div55").style.display = "none";
            document.getElementById("parent_div66").style.display = "none";
            document.getElementById("parent_div77").style.display = "none";
            document.getElementById("parent_div88").style.display = "none";
            document.getElementById("parent_div100").style.display = "none";
            document.getElementById("parent_div111").style.display = "none";
            document.getElementById("parent_div222").style.display = "none";

            document.getElementById("sub_div").style.display = "none";
            document.getElementById("sub_div22").style.display = "none";
            document.getElementById("sub_div33").style.display = "none";
            document.getElementById("sub_div44").style.display = "none";
            document.getElementById("sub_div55").style.display = "none";
            document.getElementById("sub_div66").style.display = "none";
            document.getElementById("sub_div77").style.display = "none";
            document.getElementById("sub_div88").style.display = "none";
            document.getElementById("sub_div99").style.display = "block";
            document.getElementById("sub_div100").style.display = "none";
            document.getElementById("sub_div111").style.display = "none";
            document.getElementById("sub_div222").style.display = "none";


            document.getElementById("acc_bo_div").style.display = "none";

            $('#message').append(
                `Income or Revenue earned from normal business activities like sale of goods and services to customers`
            )

        } else if (vals == "Other Income") {
            document.getElementById('message_hd').innerHTML = "Income<br><br>Income or revenue earned from activities not directly related to your business like :<ul><li>Interest Earned</li><li>Dividend Earned</li></ul>";

            document.getElementById('message').innerHTML = ""
            document.getElementById("cr_div").style.display = "none";
            document.getElementById("name").style.display = "block";
            document.getElementById("credit").style.display = "none";
            document.getElementById("acc_bo_div").style.display = "none";

            document.getElementById("parent_div").style.display = "none";
            document.getElementById("parent_div22").style.display = "none";
            document.getElementById("parent_div33").style.display = "none";
            document.getElementById("parent_div44").style.display = "none";
            document.getElementById("parent_div55").style.display = "none";
            document.getElementById("parent_div66").style.display = "none";
            document.getElementById("parent_div77").style.display = "none";
            document.getElementById("parent_div88").style.display = "none";
            document.getElementById("parent_div99").style.display = "none";
            document.getElementById("parent_div100").style.display = "none";
            document.getElementById("parent_div111").style.display = "none";
            document.getElementById("parent_div222").style.display = "none";


            document.getElementById("sub_div").style.display = "none";
            document.getElementById("sub_div22").style.display = "none";
            document.getElementById("sub_div33").style.display = "none";
            document.getElementById("sub_div44").style.display = "none";
            document.getElementById("sub_div55").style.display = "none";
            document.getElementById("sub_div66").style.display = "none";
            document.getElementById("sub_div77").style.display = "none";
            document.getElementById("sub_div88").style.display = "none";
            document.getElementById("sub_div99").style.display = "none";
            document.getElementById("sub_div100").style.display = "none";
            document.getElementById("sub_div111").style.display = "none";
            document.getElementById("sub_div222").style.display = "none";

            $('#message').append(
                `Income or revenue earned from activties not directly related to your business like :<ul><li>Interest Earned</li> <li>Dividend Earned</li></ul>`
            )

        } else if (vals == "Expense") {
            document.getElementById('message_hd').innerHTML = "Expense<br><br>Reflects expenses incurred for running normal business operations, such as :<ul><li>Advertisements and Marketing</li><li>Business Travel Expenses</li><li>License Fees</li><li>Utility Expenses</li></ul>";

            document.getElementById('message').innerHTML = ""
            document.getElementById("sub_account100").checked = false;


            document.getElementById("cr_div").style.display = "none";
            document.getElementById("name").style.display = "block";
            document.getElementById("credit").style.display = "none";
            document.getElementById("acc_bo_div").style.display = "none";
            document.getElementById("parent_div").style.display = "none";
            document.getElementById("parent_div22").style.display = "none";
            document.getElementById("parent_div33").style.display = "none";
            document.getElementById("parent_div44").style.display = "none";
            document.getElementById("parent_div55").style.display = "none";
            document.getElementById("parent_div66").style.display = "none";
            document.getElementById("parent_div77").style.display = "none";
            document.getElementById("parent_div88").style.display = "none";
            document.getElementById("parent_div99").style.display = "none";
            document.getElementById("parent_div111").style.display = "none";
            document.getElementById("parent_div222").style.display = "none";

            document.getElementById("sub_div").style.display = "none";
            document.getElementById("sub_div22").style.display = "none";
            document.getElementById("sub_div33").style.display = "none";
            document.getElementById("sub_div44").style.display = "none";
            document.getElementById("sub_div55").style.display = "none";
            document.getElementById("sub_div66").style.display = "none";
            document.getElementById("sub_div77").style.display = "none";
            document.getElementById("sub_div88").style.display = "none";
            document.getElementById("sub_div100").style.display = "block";
            document.getElementById("sub_div99").style.display = "none";
            document.getElementById("sub_div111").style.display = "none";
            document.getElementById("sub_div222").style.display = "none";

            $('#message').append(
                `Reflects expenses incurred for running normal business operations, such as :<ul><li>Advertisements and Marketing</li> <li>Business Travel Expenses</li><li>License Fees</li><li>Utility Expenses</li></ul>`
            )

        } else if (vals == "Cost Of Goods Sold") {
            document.getElementById('message_hd').innerHTML = "Expense<br><br>This indicates the direct costs attributable to the production of the goods sold by a company such as:<ul><li>Material and Labor costs</li><li>Cost of obtaining raw materials</li></ul>";

            document.getElementById('message').innerHTML = ""
            document.getElementById("sub_account111").checked = false;

            document.getElementById("cr_div").style.display = "none";
            document.getElementById("name").style.display = "block";
            document.getElementById("credit").style.display = "none";
            document.getElementById("acc_bo_div").style.display = "none";
            document.getElementById("parent_div").style.display = "none";
            document.getElementById("parent_div22").style.display = "none";
            document.getElementById("parent_div33").style.display = "none";
            document.getElementById("parent_div44").style.display = "none";
            document.getElementById("parent_div55").style.display = "none";
            document.getElementById("parent_div66").style.display = "none";
            document.getElementById("parent_div77").style.display = "none";
            document.getElementById("parent_div88").style.display = "none";
            document.getElementById("parent_div99").style.display = "none";
            document.getElementById("parent_div100").style.display = "none";
            document.getElementById("parent_div222").style.display = "none";

            document.getElementById("sub_div").style.display = "none";
            document.getElementById("sub_div22").style.display = "none";
            document.getElementById("sub_div33").style.display = "none";
            document.getElementById("sub_div44").style.display = "none";
            document.getElementById("sub_div55").style.display = "none";
            document.getElementById("sub_div66").style.display = "none";
            document.getElementById("sub_div77").style.display = "none";
            document.getElementById("sub_div88").style.display = "none";
            document.getElementById("sub_div111").style.display = "block";
            document.getElementById("sub_div100").style.display = "none";
            document.getElementById("sub_div99").style.display = "none";
            document.getElementById("sub_div222").style.display = "none";

            $('#message').append(
                `This indicates the direct costs attributable to the production of the goods sold by a company such as:<ul><li>Material and Labor costs</li> <li>Cost of obtaining raw materials</li></ul>`
            )

        } else if (vals == "Other Expense") {
            document.getElementById('message_hd').innerHTML = "Expense<br><br>Track miscellaneous expenses incurred for activities other than primary business operations or create additional accounts to track default expenses like insurance or contribution towards charity.";

            document.getElementById('message').innerHTML = ""
            document.getElementById("sub_account222").checked = false;

            document.getElementById("cr_div").style.display = "none";
            document.getElementById("name").style.display = "block";
            document.getElementById("credit").style.display = "none";
            document.getElementById("acc_bo_div").style.display = "none";
            document.getElementById("parent_div").style.display = "none";
            document.getElementById("parent_div22").style.display = "none";
            document.getElementById("parent_div33").style.display = "none";
            document.getElementById("parent_div44").style.display = "none";
            document.getElementById("parent_div55").style.display = "none";
            document.getElementById("parent_div66").style.display = "none";
            document.getElementById("parent_div77").style.display = "none";
            document.getElementById("parent_div88").style.display = "none";
            document.getElementById("parent_div99").style.display = "none";
            document.getElementById("parent_div100").style.display = "none";
            document.getElementById("parent_div111").style.display = "none";

            document.getElementById("sub_div").style.display = "none";
            document.getElementById("sub_div22").style.display = "none";
            document.getElementById("sub_div33").style.display = "none";
            document.getElementById("sub_div44").style.display = "none";
            document.getElementById("sub_div55").style.display = "none";
            document.getElementById("sub_div66").style.display = "none";
            document.getElementById("sub_div77").style.display = "none";
            document.getElementById("sub_div88").style.display = "none";
            document.getElementById("sub_div222").style.display = "block";
            document.getElementById("sub_div100").style.display = "none";
            document.getElementById("sub_div111").style.display = "none";
            document.getElementById("sub_div99").style.display = "none";

            $('#message').append(
                `Reflects expenses incurred for activities unrelated to primary business operations like :<ul><li>Bad debts</li> <li>Contributions Towards Charity</li><li>Insurance</li></ul>`
            )

        }




    };

    function filterFunction1() {
        var input, filter, ul, li, a, i, b, j;
        input = document.getElementById("myInput1");
        filter = input.value.toUpperCase();
        div = document.getElementById("myDropdown1");
        a = div.getElementsByClassName('opt');
        // a = div.getElementsByTagName('div');

        b = div.getElementsByTagName('li');

        for (i = 0; i < a.length; i++) {
            txtValue = a[i].textContent || a[i].innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                a[i].style.display = "";
            }
            else {
                a[i].style.display = "none";
            }
        }
        for (j = 0; j < b.length; j++) {
            txtValue = b[j].textContent || b[j].innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                b[j].style.display = "";
            }
            else {
                b[j].style.display = "none";
            }
        }

    }

    function show_parent() {

var vals = document.getElementById('soValue1').value;
console.log(vals);
if (vals == "Other Current Assets") {

    var chk = document.getElementById("sub_account").checked;


    if (chk == true) {
        document.getElementById("parent_div").style.display = "block";
        document.getElementById("parent_div22").style.display = "none";
        document.getElementById("parent_div33").style.display = "none";
        document.getElementById("parent_div44").style.display = "none";
        document.getElementById("parent_div55").style.display = "none";
        document.getElementById("parent_div66").style.display = "none";
        document.getElementById("parent_div77").style.display = "none";
        document.getElementById("parent_div88").style.display = "none";
        document.getElementById("parent_div99").style.display = "none";
        document.getElementById("parent_div100").style.display = "none";
        document.getElementById("parent_div111").style.display = "none";
        document.getElementById("parent_div222").style.display = "none";



    } else {
        document.getElementById("parent_div").style.display = "none";
    }
}
}

function show_parent22() {
var vals = document.getElementById('soValue1').value;
console.log(vals);

if (vals == "Cash") {
    var chk = document.getElementById("sub_account22").checked;
    if (chk == true) {
        document.getElementById("parent_div22").style.display = "block";
        document.getElementById("parent_div55").style.display = "none";
        document.getElementById("parent_div44").style.display = "none";
        document.getElementById("parent_div33").style.display = "none";
        document.getElementById("parent_div").style.display = "none";
        document.getElementById("parent_div66").style.display = "none";
        document.getElementById("parent_div77").style.display = "none";
        document.getElementById("parent_div88").style.display = "none";
        document.getElementById("parent_div99").style.display = "none";
        document.getElementById("parent_div100").style.display = "none";
        document.getElementById("parent_div111").style.display = "none";
        document.getElementById("parent_div222").style.display = "none";
    }
    else {
        document.getElementById("parent_div22").style.display = "none";
    }
}

}

function show_parent33() {
var vals = document.getElementById('soValue1').value;
console.log(vals);

if (vals == "Fixed Asset") {
    var chk1 = document.getElementById("sub_account33").checked;
    if (chk1 == true) {
        document.getElementById("parent_div33").style.display = "block";
        document.getElementById("parent_div55").style.display = "none";
        document.getElementById("parent_div44").style.display = "none";
        document.getElementById("parent_div22").style.display = "none";
        document.getElementById("parent_div").style.display = "none";
        document.getElementById("parent_div66").style.display = "none";
        document.getElementById("parent_div77").style.display = "none";
        document.getElementById("parent_div88").style.display = "none";
        document.getElementById("parent_div99").style.display = "none";
        document.getElementById("parent_div100").style.display = "none";
        document.getElementById("parent_div111").style.display = "none";
        document.getElementById("parent_div222").style.display = "none";

    }
    else {
        document.getElementById("parent_div33").style.display = "none";
    }
}

}

function show_parent44() {

var vals = document.getElementById('soValue1').value;
console.log(vals);

if (vals == "Stock") {
    var chk = document.getElementById("sub_account44").checked
    if (chk == true) {
        document.getElementById("parent_div66").style.display = "none";
        document.getElementById("parent_div44").style.display = "block";
        document.getElementById("parent_div55").style.display = "none";
        document.getElementById("parent_div33").style.display = "none";
        document.getElementById("parent_div22").style.display = "none";
        document.getElementById("parent_div").style.display = "none";
        document.getElementById("parent_div77").style.display = "none";
        document.getElementById("parent_div88").style.display = "none";
        document.getElementById("parent_div99").style.display = "none";
        document.getElementById("parent_div100").style.display = "none";
        document.getElementById("parent_div111").style.display = "none";
        document.getElementById("parent_div222").style.display = "none";

    } else {
        document.getElementById("parent_div44").style.display = "none";
    }
}
}


function show_parent55() {
var vals = document.getElementById('soValue1').value;
console.log(vals);
if (vals == "Other Current Liability") {
    var chk = document.getElementById("sub_account55").checked
    if (chk == true) {
        document.getElementById("parent_div55").style.display = "block";
        document.getElementById("parent_div44").style.display = "none";
        document.getElementById("parent_div33").style.display = "none";
        document.getElementById("parent_div22").style.display = "none";
        document.getElementById("parent_div").style.display = "none";
        document.getElementById("parent_div66").style.display = "none";
        document.getElementById("parent_div77").style.display = "none";
        document.getElementById("parent_div88").style.display = "none";
        document.getElementById("parent_div99").style.display = "none";
        document.getElementById("parent_div100").style.display = "none";
        document.getElementById("parent_div111").style.display = "none";
        document.getElementById("parent_div222").style.display = "none";
    } else {
        document.getElementById("parent_div55").style.display = "none";
    }
}
}

function show_parent66() {
var vals = document.getElementById('soValue1').value;
console.log(vals);
if (vals == "Long Term Liability") {
    var chk = document.getElementById("sub_account66").checked
    if (chk == true) {
        document.getElementById("parent_div66").style.display = "block";
        document.getElementById("parent_div44").style.display = "none";
        document.getElementById("parent_div33").style.display = "none";
        document.getElementById("parent_div22").style.display = "none";
        document.getElementById("parent_div").style.display = "none";
        document.getElementById("parent_div55").style.display = "none";
        document.getElementById("parent_div77").style.display = "none";
        document.getElementById("parent_div88").style.display = "none";
        document.getElementById("parent_div99").style.display = "none";
        document.getElementById("parent_div100").style.display = "none";
        document.getElementById("parent_div111").style.display = "none";
        document.getElementById("parent_div222").style.display = "none";
    } else {
        document.getElementById("parent_div66").style.display = "none";
    }
}
}

function show_parent77() {
var vals = document.getElementById('soValue1').value;
console.log(vals);
if (vals == "Other Liability") {
    var chk = document.getElementById("sub_account77").checked
    if (chk == true) {
        document.getElementById("parent_div77").style.display = "block";
        document.getElementById("parent_div44").style.display = "none";
        document.getElementById("parent_div33").style.display = "none";
        document.getElementById("parent_div22").style.display = "none";
        document.getElementById("parent_div").style.display = "none";
        document.getElementById("parent_div55").style.display = "none";
        document.getElementById("parent_div66").style.display = "none";
        document.getElementById("parent_div88").style.display = "none";
        document.getElementById("parent_div99").style.display = "none";
        document.getElementById("parent_div100").style.display = "none";
        document.getElementById("parent_div111").style.display = "none";
        document.getElementById("parent_div222").style.display = "none";
    } else {
        document.getElementById("parent_div77").style.display = "none";
    }
}
}

function show_parent88() {
var vals = document.getElementById('soValue1').value;
console.log(vals);
if (vals == "Equity") {
    var chk = document.getElementById("sub_account88").checked
    if (chk == true) {
        document.getElementById("parent_div88").style.display = "block";
        document.getElementById("parent_div44").style.display = "none";
        document.getElementById("parent_div33").style.display = "none";
        document.getElementById("parent_div22").style.display = "none";
        document.getElementById("parent_div").style.display = "none";
        document.getElementById("parent_div55").style.display = "none";
        document.getElementById("parent_div66").style.display = "none";
        document.getElementById("parent_div77").style.display = "none";
        document.getElementById("parent_div99").style.display = "none";
        document.getElementById("parent_div100").style.display = "none";
        document.getElementById("parent_div111").style.display = "none";
        document.getElementById("parent_div222").style.display = "none";
    } else {
        document.getElementById("parent_div88").style.display = "none";
    }
}
}

function show_parent99() {
var vals = document.getElementById('soValue1').value;
console.log(vals);
if (vals == "Income") {
    var chk = document.getElementById("sub_account99").checked
    if (chk == true) {
        document.getElementById("parent_div99").style.display = "block";
        document.getElementById("parent_div44").style.display = "none";
        document.getElementById("parent_div33").style.display = "none";
        document.getElementById("parent_div22").style.display = "none";
        document.getElementById("parent_div").style.display = "none";
        document.getElementById("parent_div55").style.display = "none";
        document.getElementById("parent_div66").style.display = "none";
        document.getElementById("parent_div77").style.display = "none";
        document.getElementById("parent_div88").style.display = "none";
        document.getElementById("parent_div100").style.display = "none";
        document.getElementById("parent_div111").style.display = "none";
        document.getElementById("parent_div222").style.display = "none";
    } else {
        document.getElementById("parent_div99").style.display = "none";
    }
}
}

function show_parent100() {
var vals = document.getElementById('soValue1').value;
console.log(vals);

if (vals == "Expense") {
    var chk = document.getElementById("sub_account100").checked;
    if (chk == true) {
        document.getElementById("parent_div100").style.display = "block";
        document.getElementById("parent_div66").style.display = "none";
        document.getElementById("parent_div99").style.display = "none";
        document.getElementById("parent_div55").style.display = "none";
        document.getElementById("parent_div44").style.display = "none";
        document.getElementById("parent_div33").style.display = "none";
        document.getElementById("parent_div22").style.display = "none";
        document.getElementById("parent_div").style.display = "none";
        document.getElementById("parent_div77").style.display = "none";
        document.getElementById("parent_div88").style.display = "none";
        document.getElementById("parent_div111").style.display = "none";
        document.getElementById("parent_div222").style.display = "none";


    } else {
        document.getElementById("parent_div100").style.display = "none";
    }
}
}

function show_parent111() {
var vals = document.getElementById('soValue1').value;
console.log(vals);


if (vals == "Cost Of Goods Sold") {
    var chk = document.getElementById("sub_account111").checked
    if (chk == true) {
        document.getElementById("parent_div111").style.display = "block";
        document.getElementById("parent_div66").style.display = "none";
        document.getElementById("parent_div99").style.display = "none";
        document.getElementById("parent_div55").style.display = "none";
        document.getElementById("parent_div44").style.display = "none";
        document.getElementById("parent_div33").style.display = "none";
        document.getElementById("parent_div22").style.display = "none";
        document.getElementById("parent_div").style.display = "none";
        document.getElementById("parent_div77").style.display = "none";
        document.getElementById("parent_div88").style.display = "none";
        document.getElementById("parent_div100").style.display = "none";
        document.getElementById("parent_div222").style.display = "none";


    } else {
        document.getElementById("parent_div111").style.display = "none";
    }
}
}

function show_parent222() {
var vals = document.getElementById('soValue1').value;
console.log(vals);

if (vals == "Other Expense") {
    var chk = document.getElementById("sub_account222").checked;
    if (chk == true) {
        document.getElementById("parent_div222").style.display = "block";
        document.getElementById("parent_div66").style.display = "none";
        document.getElementById("parent_div99").style.display = "none";
        document.getElementById("parent_div55").style.display = "none";
        document.getElementById("parent_div44").style.display = "none";
        document.getElementById("parent_div33").style.display = "none";
        document.getElementById("parent_div22").style.display = "none";
        document.getElementById("parent_div").style.display = "none";
        document.getElementById("parent_div77").style.display = "none";
        document.getElementById("parent_div88").style.display = "none";
        document.getElementById("parent_div100").style.display = "none";
        document.getElementById("parent_div111").style.display = "none";


    } else {
        document.getElementById("parent_div222").style.display = "none";
    }
}
}
</script>








                
</body>





{% endblock %}